<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  
  <title>Jacy</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Jacy">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Jacy">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Jacy">
  
    <link rel="alternative" href="/atom.xml" title="Jacy" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.gif">
  
  <link rel="stylesheet" href="/css/style.css">
</head></html>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="http://7xl01i.com1.z0.glb.clouddn.com/head.jpg" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">Jacy</a></h1>
		</hgroup>

		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						<div class="icon-wrap icon-link hide" data-idx="2">
							<div class="loopback_l"></div>
							<div class="loopback_r"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>èœå•</li>
						<li>æ ‡ç­¾</li>
						
						<li>å‹æƒ…é“¾æ¥</li>
						
						
						<li>å…³äºæˆ‘</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">ä¸»é¡µ</a></li>
				        
							<li><a href="/archives">æ‰€æœ‰æ–‡ç« </a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/" title="github">github</a>
					        
								<a class="weibo" target="_blank" href="http://d.weibo.com/" title="weibo">weibo</a>
					        
								<a class="rss" target="_blank" href="http://www.163.com/rss/" title="rss">rss</a>
					        
								<a class="zhihu" target="_blank" href="http://www.zhihu.com/#signin" title="zhihu">zhihu</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/å¨±ä¹/" style="font-size: 15px;">å¨±ä¹</a> <a href="/tags/å¨±ä¹-ç»éªŒ/" style="font-size: 10px;">å¨±ä¹+ç»éªŒ</a> <a href="/tags/ç»éªŒ/" style="font-size: 20px;">ç»éªŒ</a>
					</div>
				</section>
				
				
				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://huangweijie.github.io/">å¥¥å·´é©¬çš„åšå®¢</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://huangweijie.github.io/">å¡å¡çš„ç¾ä¸½ä¼ è¯´</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://huangweijie.github.io/">æœ¬æ³½é©¬çš„åšå®¢</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://huangweijie.github.io/">å‰æ ¼æ–¯çš„åšå®¢</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://huangweijie.github.io/">ä¹ å¤§å¤§å¤§ä¸åŒ</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://huangweijie.github.io/">æ‰˜è’‚çš„åšå®¢</a>
			        
			        </div>
				</section>
				

				
				
				<section class="switch-part switch-part4">
				
					<div id="js-aboutme">æ…¢æ…¢å‰è¡Œã€‚</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">Jacy</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img lazy-src="http://7xl01i.com1.z0.glb.clouddn.com/head.jpg" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author">Jacy</h1>
			</hgroup>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">ä¸»é¡µ</a></li>
		        
					<li><a href="/archives">æ‰€æœ‰æ–‡ç« </a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="http://d.weibo.com/" title="weibo">weibo</a>
			        
						<a class="rss" target="_blank" href="http://www.163.com/rss/" title="rss">rss</a>
			        
						<a class="zhihu" target="_blank" href="http://www.zhihu.com/#signin" title="zhihu">zhihu</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <div class="body-wrap">
  
    <article id="post-å‰ç«¯è·¨åŸŸ" class="article article-type-post" itemscope="" itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/05/07/å‰ç«¯è·¨åŸŸ/" class="article-date">
  	<time datetime="2017-05-06T16:00:00.000Z" itemprop="datePublished">2017-05-07</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/05/07/å‰ç«¯è·¨åŸŸ/">å‰ç«¯è·¨åŸŸ</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>è¿™é‡Œæ‰€è°“çš„è·¨åŸŸé—®é¢˜ï¼Œå…¶å®å°±æ˜¯javascriptä¸ºäº†åœ¨ä¸åŒçš„åŸŸä¹‹é—´è¿›è¡Œæ•°æ®é€šä¿¡ï¼Œç”±äºæµè§ˆå™¨å…·æœ‰åŒæºç­–ç•¥ï¼Œå¯¹äºä¸åŒåŸŸ(åè®®ï¼ŒåŸŸåï¼Œç«¯å£ä¸åŒ)ä¹‹é—´çš„æ•°æ®é€šä¿¡æœ‰ä¸€å®šçš„å®‰å…¨é™åˆ¶ã€‚</p>
<h2 id="è§£å†³è·¨åŸŸé—®é¢˜ï¼š"><a href="#è§£å†³è·¨åŸŸé—®é¢˜ï¼š" class="headerlink" title="è§£å†³è·¨åŸŸé—®é¢˜ï¼š"></a>è§£å†³è·¨åŸŸé—®é¢˜ï¼š</h2><p><strong>1.æœåŠ¡ç«¯åŠ ä¸Šå“åº”å¤´</strong><br><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">header(<span class="string">"Access-Control-Allow-Origin: *"</span>)<span class="comment">;</span></span><br><span class="line">header(<span class="string">"Access-COntrol-Allow-Methods: GET,POST"</span>)<span class="comment">;</span></span><br></pre></td></tr></table></figure></p>
<p><strong>2.jsonP(json with padding)</strong><br>jsonPè·¨åŸŸä¸»è¦åˆ©ç”¨script srcå¼•å…¥çš„jsæ–‡ä»¶æ˜¯æ²¡æœ‰å—åˆ°åŒæºç­–ç•¥çš„é™åˆ¶çš„<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"http://domain2.com/getjson?jsonp=parseResponse"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>jQueryä¸­çš„å®ç°ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$.ajax(&#123;</span><br><span class="line">    type: <span class="string">'GET'</span>,</span><br><span class="line">    url: <span class="string">'...'</span>,</span><br><span class="line">    dataType: <span class="string">'jsonp'</span>,</span><br><span class="line">    jsonpCallback: <span class="string">'cb'</span>, <span class="comment">//å›è°ƒå‡½æ•°å</span></span><br><span class="line">    success: <span class="function"><span class="keyword">function</span>(<span class="params">mes</span>) </span>&#123;</span><br><span class="line">        <span class="comment">//...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">$.getJSON(url(<span class="string">"...&amp;jsoncallback=?"</span>),data,<span class="function"><span class="keyword">function</span>(<span class="params">mes</span>)</span>&#123;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//åå°å°†ï¼Ÿéšæœºæˆä¸€ä¸ªæ–¹æ³•åï¼Œè¿›è¡Œè¿”å›</span></span><br></pre></td></tr></table></figure></p>
<p><strong>3.ä¸­é—´ä»£ç†</strong><br>ç½‘ä¸Šçœ‹åˆ°æœ€å¤šçš„ä¸­é—´ä»£ç†å°±æ˜¯iframeäº†ï¼Œä½†æ˜¯å®ƒçš„å…¼å®¹æ€§è¿˜æ˜¯éœ€è¦è€ƒè™‘çš„ï¼ˆåœ¨iphoneä¸Šä½“éªŒè¿‡iframeæ ‡ç­¾æ— æ•ˆï¼‰</p>
<h3 id="document-domain"><a href="#document-domain" class="headerlink" title="document.domain"></a>document.domain</h3><p> <a href="http://www.a.com/a.html" target="_blank" rel="noopener">www.a.com/a.html</a>:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.domain = <span class="string">'a.com'</span>;</span><br><span class="line"><span class="keyword">var</span> ifr = <span class="built_in">document</span>.createElement(<span class="string">'iframe'</span>); <span class="comment">//åˆ›å»ºäº¤äº’iframe</span></span><br><span class="line">ifr.src = <span class="string">'http://www.script.a.com/b.html'</span>;</span><br><span class="line">ifr.style.display = <span class="string">'none'</span>;</span><br><span class="line"><span class="built_in">document</span>.body.appendChild(ifr);</span><br><span class="line">ifr.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> doc = ifr.contentDocument || ifr.contentWIndow.document; <span class="comment">//è·å–äº¤äº’iframeçš„documentè¿›è¡Œæ“ä½œ</span></span><br><span class="line">    ifr.onload = <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><a href="http://www.script.a.com/b.html" target="_blank" rel="noopener">www.script.a.com/b.html</a>:<br><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.domain = <span class="string">'a.html'</span>; <span class="comment">//ç›¸åŒä¸»åŸŸ</span></span><br></pre></td></tr></table></figure></p>
<h3 id="location-hash"><a href="#location-hash" class="headerlink" title="location.hash"></a>location.hash</h3><p>a.com/a.html:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åˆ›å»ºäº¤äº’iframe</span></span><br><span class="line"><span class="keyword">var</span> ifr = <span class="built_in">document</span>.createElement(<span class="string">'iframe'</span>);</span><br><span class="line">ifr.style.display = <span class="string">'none'</span>;</span><br><span class="line">ifr.src = <span class="string">'http://b.com/b.html#hash'</span>; <span class="comment">//äº¤äº’iframeåœ°å€ï¼Œå¯å¸¦hashä¼ å…¥</span></span><br><span class="line"><span class="built_in">document</span>.body.appendChild(ifr);</span><br><span class="line"></span><br><span class="line"><span class="comment">//è½®è¯¢è‡ªèº«hashæ˜¯å¦æ”¹å˜ï¼Œä»¥ä¾¿è·å–å“åº”</span></span><br><span class="line">setInterval(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> data = location.hash ? location.hash.substring(<span class="number">1</span>) : <span class="string">''</span>; <span class="comment">//è·å–hashï¼Œsubstring(1)å»#</span></span><br><span class="line">&#125;,<span class="number">2000</span>)</span><br></pre></td></tr></table></figure></p>
<p>b.com/b.html<br><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> data = location.hash;   <span class="comment">//è·å–ä¼ å…¥çš„æ•°æ®(å¸¦#)</span></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    parent.location.hash = <span class="string">'...'</span> <span class="comment">//ç»™çˆ¶çª—å£å“åº”æ•°æ®</span></span><br><span class="line">&#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    <span class="comment">// ieï¼Œchromeå…·æœ‰å®‰å…¨æœºåˆ¶ä¸åŒåŸŸæ— æ³•ä¿®æ”¹parentçš„hashå€¼</span></span><br><span class="line">    <span class="comment">//åˆ›å»ºä¸­é—´iframeä»£ç†ï¼ŒåŸŸåœ¨a.comä¸‹</span></span><br><span class="line">    <span class="keyword">var</span> ifr = <span class="built_in">document</span>.createElement(<span class="string">'iframe'</span>);</span><br><span class="line">    ifr.style.display = <span class="string">'none'</span>;</span><br><span class="line">    ifr.src = <span class="string">'http://a.com/c.html#hash'</span>; <span class="comment">//å°†å“åº”è¿”å›æ•°æ®å†™å…¥ä»£ç†</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>a.com/c.html:<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">parent<span class="selector-class">.parent</span><span class="selector-class">.loaction</span><span class="selector-class">.hash</span> = location<span class="selector-class">.hash</span><span class="selector-class">.substring</span>(<span class="number">1</span>) <span class="comment">//ä¿®æ”¹æœ€ä¸Šå±‚çª—å£hashï¼Œå°†è¿”å›æ•°æ®å†™å…¥</span></span><br></pre></td></tr></table></figure></p>
<h3 id="window-name"><a href="#window-name" class="headerlink" title="window.name"></a>window.name</h3><p>a.com/a.html:<br><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">var</span> <span class="built_in">ifr</span> = document.createElement('iframe');</span><br><span class="line"><span class="built_in">ifr</span>.src = 'http://b.com/b.html';</span><br><span class="line"><span class="built_in">ifr</span>.<span class="built_in">style</span>.<span class="built_in">display</span> = 'none';</span><br><span class="line">document.body.appendChild(<span class="built_in">ifr</span>);</span><br><span class="line">//è§¦å‘æˆ–è½®è¯¢è·å–<span class="built_in">ifr</span>.contentWindow.name</span><br></pre></td></tr></table></figure></p>
<p>b.com/b.html:<br><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.name = <span class="string">'data'</span>;</span><br></pre></td></tr></table></figure></p>
<h3 id="H5-postMessage"><a href="#H5-postMessage" class="headerlink" title="H5 postMessage()"></a>H5 postMessage()</h3><p>a.com/index.html:<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//&lt;iframe src="b.com/index.html"&gt;&lt;/iframe&gt;</span></span><br><span class="line"><span class="selector-tag">var</span> ifr = window<span class="selector-class">.frame</span>[<span class="number">0</span>].postMessage(message,originTarget)</span><br><span class="line"><span class="comment">//originTargetç›®æ ‡çª—å£(åè®®+ä¸»æœº+ç«¯å£å·)ï¼Œå¯å†™*è¡¨ç¤ºæ‰€æœ‰çª—å£ï¼Œæˆ–è€…b.com+(urlå¯çœç•¥ï¼Œå†™äº†ä¹Ÿæ— æ•ˆ)</span></span><br></pre></td></tr></table></figure></p>
<p>b.com/index.html:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">'message'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//e.originä¸ºæ¶ˆæ¯æ¥æºï¼Œå¦‚http://a.com</span></span><br><span class="line">    <span class="comment">//e.dataä¸ºä¼ é€’çš„æ¶ˆæ¯</span></span><br><span class="line">    <span class="comment">//e.sourceå‘é€æ¶ˆæ¯çš„çª—å£å¯¹è±¡</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p>
<p><strong>4.websocket(å…¨åŒå·¥ï¼ŒåŒå‘é€šä¿¡)</strong><br>åŒæºç­–ç•¥å¯¹websocketåè®®ä¸é€‚ç”¨</p>
<p><a href="http://www.jb51.net/Special/894.htm" target="_blank" rel="noopener">è„šæœ¬ä¹‹å®¶ä¸€äº›ajaxè·¨åŸŸçš„æ±‡æ€»</a></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ç»éªŒ/">ç»éªŒ</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-è°ˆè°ˆè‡ªå®¶çš„è®¸æ„¿å¢™" class="article article-type-post" itemscope="" itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/05/07/è°ˆè°ˆè‡ªå®¶çš„è®¸æ„¿å¢™/" class="article-date">
  	<time datetime="2017-05-06T16:00:00.000Z" itemprop="datePublished">2017-05-07</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/05/07/è°ˆè°ˆè‡ªå®¶çš„è®¸æ„¿å¢™/">è°ˆè°ˆè‡ªå®¶çš„è®¸æ„¿å¢™</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>æœ‰ä¸ªè¯è¯­æŒºæœ‰æ„æ€çš„ï¼Œå«è€ç”Ÿå¸¸è°ˆï¼Œé¡¾åæ€è®®ï¼Œè€ä¹¦ç”Ÿç»å¸¸è°ˆï¼ˆè™½ç„¶åŸæ„ä¸ºè€ä¹¦ç”Ÿç»å¸¸è¯´çš„è¯ï¼‰ï¼Œçœ‹æ¥æˆ‘ä¹Ÿè¦æˆä¸ºè€ä¹¦ç”Ÿäº†ï¼Œç«Ÿæ˜¯è°ˆ~æ¥å›å½’æ­£é¢˜ï¼Œæˆ‘ä»¬æ¥è°ˆè°ˆè‡ªå®¶çš„è®¸æ„¿å¢™ã€‚</p>
</blockquote>
<h2 id="é¡¹ç›®èƒŒæ™¯"><a href="#é¡¹ç›®èƒŒæ™¯" class="headerlink" title="é¡¹ç›®èƒŒæ™¯"></a>é¡¹ç›®èƒŒæ™¯</h2><p>å¹¿å·¥å¤§å­¦åŸæ ¡åŒºæ˜¯å…¸å‹çš„é˜³ç››é˜´è¡°çš„ï¼Œæ¯å¹´çš„å¥³ç”ŸèŠ‚åœ¨å¹¿å·¥ç®—æ˜¯ä¸€ä¸ªæ¯”è¾ƒéš†é‡çš„èŠ‚ç›®äº†å§ï¼Œä¸ºäº†è®©å¥³ç”Ÿäº«å—åˆ°æ›´åŠ ä¾¿åˆ©çš„å…³æ³¨ï¼Œä¸ºäº†è®©æ›´å¤šçš„ç”·ç”Ÿå¥³ç”Ÿä»¬å‚ä¸è¿›å¤§å­¦ä¸°å¯Œå¤šå½©çš„æ´»åŠ¨ä¸­ï¼Œè®¸æ„¿å¢™å°±è¯ç”Ÿäº†ï¼Œå¹¶ä¼ æ‰¿è‡³ä»Šã€‚</p>
<h2 id="é¡¹ç›®ç®€ä»‹"><a href="#é¡¹ç›®ç®€ä»‹" class="headerlink" title="é¡¹ç›®ç®€ä»‹"></a>é¡¹ç›®ç®€ä»‹</h2><p>1.è®¸æ„¿å¢™åœ¨å»å¹´æ˜¯å¼€å‘æˆä¸ºå¾®ä¿¡çš„web appï¼Œç›¸æ¯”å¾€å¹´å¢åŠ äº†æ¸¸æˆè¿™ä¸ªæ–°åŠŸèƒ½ï¼ˆè™½ç„¶åå“å¹¶ä¸æ˜¯ç‰¹åˆ«å¥½(â”¬ï¼¿â”¬)ï¼‰ã€‚<br>2.æˆ‘ä»¬å›¢é˜Ÿå…ˆä»é¡¹ç›®éœ€æ±‚å…¥æ‰‹è¿›è¡Œåˆ†æï¼Œå¹¿å·¥çš„èƒŒæ™¯è®©è¿™ä¸ªé¡¹ç›®çš„ç”Ÿå‘½å‘¨æœŸåœ¨æ¯å¹´å¯ä»¥æŒç»­ä¸€å‘¨å·¦å³ï¼Œé™¤äº†æä¾›åŸºæœ¬çš„å¥³ç”Ÿè®¸æ„¿ç”·ç”Ÿé¢†å–æ„¿æœ›åŠŸèƒ½å¤–ï¼Œæˆ‘ä»¬è¿˜å¸Œæœ›åŠ å…¥ä¸€äº›æ–°çš„å…ƒç´ å¸å¼•æ›´å¤šçš„äººå…³æ³¨ï¼Œç±»ä¼¼æ¥é‡‘å¸æ¸¸æˆå°±æ­¤è¯ç”Ÿï¼Œç”»é¢å±•ç°å‡ºäº†ç”·å¥³ç”Ÿä»¬çš„é’æ˜¥æ´»åŠ›ã€‚<br>3.å¦å¤–åœ¨è¿™é‡Œä¸å¾—ä¸æææˆ‘ä»¬çš„æš—æ‹åŒ¹é…åŠŸèƒ½å•¦ï¼Œå¤§å®¶å†™ä¸‹å¿ƒç›®ä¸­çš„ä»–ï¼ˆå¥¹ï¼‰ï¼Œè‹¥åŒæ–¹äº’ç›¸æš—æ‹ï¼Œå°±èƒ½å‘ŠçŸ¥å¯¹æ–¹ï¼Œæˆå°±äº†æ•°å¯¹å°æƒ…ä¾£ä»¬ï¼ŒæˆåŠŸç‰µçº¿æ˜¯æˆ‘ä»¬çš„éª„å‚²ï¼Œæ˜¯æˆ‘ä»¬çš„è‡ªè±ªo(âˆ©_âˆ©)oã€‚<br>4.è€ƒè™‘åˆ°ä¿æŠ¤å¥³ç”Ÿä»¬çš„ä¿¡æ¯å®‰å…¨é—®é¢˜ï¼Œæˆ‘ä»¬é‡‡å–å¾®ä¿¡æˆæƒè®¤è¯ï¼Œåªæœ‰ç”·ç”Ÿé¢†å–äº†å¥³ç”Ÿçš„æ„¿æœ›ï¼Œæ‰èƒ½è·å–å¥³ç”Ÿç›¸å…³ä¿¡æ¯ï¼Œè®©ä»–ä»¬èƒ½å¤Ÿè¿›è¡Œäº¤æµè€Œå®ç°æ„¿æœ›ã€‚<br>5.é¡¹ç›®åœ¨å‰ç«¯é‡‡ç”¨react+mobx+es6ï¼Œå¼•ç”¨gulp-webpackæ„å»ºæ‰“åŒ…ï¼Œåå°ä½¿ç”¨nodejs+expressæ„å»ºï¼Œå¹¶ä½¿ç”¨mongoæ•°æ®åº“å­˜å‚¨ç›¸å…³ä¿¡æ¯æ•°æ®ï¼ˆåˆ«æƒ³å·ä¿¡æ¯å“ˆï¼‰ã€‚</p>
<h2 id="æŠ€æœ¯ä»‹ç»"><a href="#æŠ€æœ¯ä»‹ç»" class="headerlink" title="æŠ€æœ¯ä»‹ç»"></a>æŠ€æœ¯ä»‹ç»</h2><h3 id="å‰ç«¯"><a href="#å‰ç«¯" class="headerlink" title="å‰ç«¯"></a><strong>å‰ç«¯</strong></h3><p><strong>Reactï¼š</strong><br>è¦é—®åˆ°å‰ç«¯æ–¹é¢ä¸ºä»€ä¹ˆé€‰ç”¨reactå‘¢ï¼Œè€Œä¸ç”¨è½»é‡çº§vueå’Œbossçº§angularå‘¢ï¼ŒæŒ‘é€‰æŠ€æœ¯æ ˆæ—¶å®ƒä»¬ç¡®å®ä¸€ç›´åœ¨å‘æˆ‘ä»¬æ‹›æ‰‹ï¼Œéƒ½æƒ³è¦æœ•é‡ç”¨å®ƒä»¬ğŸ˜„ï¼Œvueè™½ç„¶ç”¨çš„ç‰¹åˆ«çš„èˆ’æœï¼Œstyle+template+javascriptç»„æˆä¸€ä¸ªvueæ–‡ä»¶ï¼Œæ¯ä¸€ä¸ªéƒ½é‚£ä¹ˆçš„æ¸…æ™°ï¼Œç”¨çš„é‚£ä¹ˆèˆ’æœï¼Œå¯æ˜¯åœ¨å‰é¢åšè¿‡å‡ ä¸ªé¡¹ç›®éƒ½ç”¨çš„vueï¼Œè¿™æ¬¡æˆ‘ä»¬æƒ³å¤šæ¥è§¦ä¸‹åˆ«çš„æ¡†æ¶ï¼Œæ‰©å®½çŸ¥è¯†å¹¿åº¦ï¼Œè€Œangularç›¸å¯¹æ¯”è¾ƒé€‚åˆå¤§å‹åº”ç”¨ï¼Œä½¿ç”¨è„æ£€æµ‹çš„æ–¹å¼è·Ÿè¸ªæ›´æ–°æ•°æ®ï¼Œåœ¨ä¸ç†Ÿæ‚‰çš„æƒ…å†µä¸‹ä½¿ç”¨ä¼šæœ‰æ¯”è¾ƒå¤šçš„å‘ï¼Œå› æ­¤æˆ‘ä»¬è¿˜æ˜¯é€‰æ‹©äº†ä¹Ÿæ¯”è¾ƒçƒ­é—¨çš„reactè¿›è¡Œå¼€å‘ã€‚<br>reactçš„virtual DOMï¼ˆè™šæ‹ŸDOMï¼‰ä½¿å¾—é¡¹ç›®å¯ä»¥ä¸ç”¨ç›´æ¥æ“ä½œDOMï¼Œè€Œæ˜¯é€šè¿‡è™šæ‹Ÿçš„DOMè¿›è¡Œæ“ä½œï¼Œç„¶åç»è¿‡æ”¹è¿›çš„diffç®—æ³•è®¡ç®—åï¼Œé€šè¿‡renderå‡½æ•°è¿›è¡Œæ›´æ–°ï¼Œå¤§å¤§æé«˜äº†é¡¹ç›®çš„æ€§èƒ½ã€‚<br>æ¥æ¥æ¥ï¼Œæˆ‘ä»¬æ¥äº†è§£äº†è§£reactçš„virtual DOMæ˜¯æ€ä¹ˆå›äº‹ï¼Œvirtual DOMæŠŠåŸç”Ÿçš„DOMè¿›è¡Œäº†æŠ½è±¡ï¼Œåœ¨ç”Ÿæˆé¡µé¢çš„æ—¶å€™ä¼šåŒæ—¶äº§ç”ŸåŸç”ŸDOMçš„å‰¯æœ¬ï¼Œæˆ‘ä»¬åœ¨jsçš„æ“ä½œæ˜¯å…ˆå¯¹å‰¯æœ¬è¿›è¡Œæ“ä½œï¼Œç„¶åä½¿ç”¨diffç®—æ³•å¯¹æ¯”ï¼Œå¯¹å‘ç”Ÿå˜åŒ–çš„éƒ¨åˆ†è¿›è¡Œè‡ªåŠ¨æ›´æ–°ï¼ˆä¹Ÿå¯ä»¥äººä¸ºæ§åˆ¶ç”Ÿå‘½å‘¨æœŸï¼‰è€Œä¸ç”¨å…¨éƒ¨é‡æ–°æ¸²æŸ“ã€‚<br>ä¼ ç»Ÿçš„DOM diffç®—æ³•æ˜¯é€šè¿‡éå†èŠ‚ç‚¹å®ç°çš„ï¼Œç®—æ³•å¤æ‚åº¦è¾¾åˆ°äº†O(n^3)ï¼ŒæŒ‡æ•°å‹çš„ç®—æ³•å¤æ‚åº¦åœ¨èŠ‚ç‚¹æ•°å¤šçš„æ—¶å€™æ•ˆç‡æ˜¯ç‰¹åˆ«çš„ä½çš„ï¼Œè€Œreacté€šè¿‡3ä¸ªç­–ç•¥æ”¹è¿›äº†diffç®—æ³•ï¼Œä½¿å…¶å¤æ‚åº¦ä»…ä¸ºO(n)ï¼Œå¤§å¤§æé«˜äº†è®¡ç®—é€Ÿåº¦ã€‚<br><strong>React diffç­–ç•¥ï¼š</strong></p>
<ol>
<li>åœ¨web UIä¸­DOMèŠ‚ç‚¹çš„è·¨å±‚çº§æ“ä½œæ˜¯ç‰¹åˆ«å°‘çš„ï¼ŒåŸºæœ¬å¯ä»¥å¿½ç•¥ä¸è®¡ã€‚</li>
<li>ç›¸åŒç»„ä»¶æœ‰ç›¸ä¼¼çš„ç»“æ„ï¼Œä¸åŒç»„ä»¶æœ‰ä¸åŒçš„ç»“æ„ã€‚</li>
<li>å¯¹åŒä¸€å±‚æ¬¡çš„èŠ‚ç‚¹å¯ä»¥é€šè¿‡å”¯ä¸€çš„idè¿›è¡ŒåŒºåˆ†ã€‚</li>
</ol>
<p><strong>ç¬¬ä¸€ç‚¹(tree diff)</strong><br>ç”±äºè·¨å±‚çº§æ“ä½œå°‘ï¼Œå¯ä»¥åªå¯¹ä¸¤æ£µæ ‘è¿›è¡ŒåŒå±‚å¯¹æ¯”ï¼Œå½“å‘ç°æŸä¸€å±‚æ¬¡èŠ‚ç‚¹ä¸å­˜åœ¨æˆ–è€…æ–°å¢äº†ï¼Œåˆ™æ–°å¢è¯¥èŠ‚ç‚¹æˆ–è€…åˆ é™¤è¯¥èŠ‚ç‚¹åŠå…¶å­èŠ‚ç‚¹ï¼ˆä¸ä¼šå†å¯¹å­èŠ‚ç‚¹è¿›è¡Œæ¯”è¾ƒï¼‰ã€‚<br>ä½†æ˜¯å½“å‡ºç°è·¨å±‚çº§çš„ç§»åŠ¨æ“ä½œï¼ŒReact diffå°±ä¼šå¯¹å·²ç»ä¸å­˜åœ¨èŠ‚ç‚¹ç›´æ¥åˆ é™¤ï¼Œè€Œå¯¹æ–°å­˜åœ¨çš„èŠ‚ç‚¹è¿›è¡Œæ–°å¢ï¼Œè€Œä¸æ˜¯ç›´æ¥é€šè¿‡ç§»åŠ¨å®ç°ï¼Œè¿™æ ·å°±ä¼šå½±å“æ€§èƒ½ï¼Œæ‰€ä»¥è¿˜æ˜¯éœ€è¦å°½é‡é¿å…è¿›è¡Œè·¨å±‚çº§çš„æ“ä½œã€‚</p>
<p><strong>ç¬¬äºŒç‚¹(component diff)</strong><br>React diffåœ¨å‘ç°ç›¸åŒçš„ç»„ä»¶æ—¶å°±ä¼šè¿›è¡Œtree diffæ¯”è¾ƒï¼Œè€Œä¸åŒçš„ç»„ä»¶åˆ™ç›´æ¥åˆ é™¤æ›´æ¢ï¼Œä¸ä¼šå†è¿›è¡Œè¿›ä¸€æ­¥çš„æ¯”è¾ƒï¼Œè¿™åˆé€šè¿‡èŠ‚çœdiffè®¡ç®—å¤§å¤§æé«˜äº†è®¡ç®—é€Ÿåº¦ï¼Œå½“ç„¶ç”¨æˆ·å¯ä»¥é€šè¿‡shouldComponentUpdate()è¿”å›trueè¿˜æ˜¯falseæ¥è‡ªå·±å†³å®šæ˜¯å¦å¯¹è¯¥ç»„ä»¶åŠå…¶å­ç»„ä»¶è¿›è¡Œæ›´æ–°ã€‚</p>
<p><strong>ç¬¬ä¸‰ç‚¹ï¼ˆelement diffï¼‰</strong><br>React diffåœ¨åŒå±‚æ¬¡å‘ç°ä¸åŒèŠ‚ç‚¹ç›´æ¥å°±åˆ é™¤æ›¿æ¢äº†ï¼Œé‚£ä¹ˆæœ‰æ²¡å¯èƒ½åªæ˜¯é¡ºåºçš„ä¸åŒï¼Œè€Œåªæ˜¯è°ƒæ¢ä¸€ä¸‹é¡ºåºå‘¢ï¼Œå½“ç„¶æœ‰~<br>æ‰€ä»¥é€šè¿‡ç»™èŠ‚ç‚¹æ ‡ä¸Šå”¯ä¸€çš„idï¼Œé‚£ä¹ˆèŠ‚ç‚¹å°±èƒ½é€šè¿‡å¯¹æ¯”æ–°è€é›†åˆçš„ä½ç½®ï¼Œåªè¿›è¡Œç§»åŠ¨ï¼Œè€Œä¸éœ€è¦è¿›è¡Œåˆ é™¤åŠåˆ›å»ºæ’å…¥ï¼Œè¿™æ ·å°±èƒ½æ›´é«˜æ•ˆçš„è¿›è¡Œæ›´æ–°äº†ã€‚</p>
<p>ä»¥ä¸Šåªæ˜¯ä¸ªäººçœ‹äº†ç›¸å…³å†…å®¹åçš„ç†è§£æ€»ç»“ï¼Œæœ‰ä»€ä¹ˆä¸å¯¹çš„å¯ä»¥è¯„è®ºæ”¹è¿›å–”~<br>åœ¨æ­¤ç•™ä¸‹æ”¶è—çš„èµ„æ–™ä¾›å¤§å®¶çœ‹ï¼š<br><a href="https://zhuanlan.zhihu.com/p/20346379?columnSlug=purerender" target="_blank" rel="noopener">Reactæºç è§£æ+diffç®—æ³•</a><br><a href="https://supnate.github.io/react-dom-diff/index.html" target="_blank" rel="noopener">githubè‡ªå·±ä½“ä¼šä¸‹diffç®—æ³•ï¼ˆæ‰“å¼€æ§åˆ¶å°è§‚çœ‹ï¼‰</a></p>
<p><strong>mobxï¼š</strong><br>å¯¹äºmobxçš„äº†è§£å€’è¿˜ä¸æ˜¯ç‰¹åˆ«çš„æ·±ï¼Œç¨å¾®äº†è§£äº†ä¸‹mobxå’Œreduxçš„åŒºåˆ«ï¼Œreduxæ˜¯æœ‰actionï¼Œstoreå’Œviewä¸‰å±‚ï¼Œé€šè¿‡reducerä¿®æ”¹æ•°æ®åç»è¿‡åŒå‘æ•°æ®ç»‘å®šè¾¾åˆ°æ›´æ–°è¯•å›¾çš„ç›®çš„ï¼Œä½†æ˜¯reduxä¼šå‡ºç°å¤šè®¢é˜…ï¼Œç²—ç²’åº¦çš„ç¼ºç‚¹ï¼Œæ¯”å¦‚ï¼š<br>if(c) {<br>    return a;<br>}<br>return b;<br>è¿™æ—¶å€™ä¼šå¯¹a,b,céƒ½è¿›è¡Œç›‘å¬ï¼Œç„¶è€Œåœ¨cä¸ºtrueçš„æ—¶å€™ï¼Œbå°±æ²¡æœ‰è¿›è¡Œä½¿ç”¨äº†ï¼›<br>ç²—ç²’åº¦åˆ™æ˜¯åœ¨åªå¯¹arr[0].nameè¿›è¡Œäº†ä¿®æ”¹å¼•ç”¨ï¼Œè€Œç›‘å¬æ˜¯é’ˆå¯¹çš„arrçš„ï¼›<br>ç”±äºè®¸æ„¿å¢™åªéœ€è¦è¿›è¡Œstoreåˆ°viewå±‚çš„æ“ä½œå¯¹ä½¿ç”¨çš„ç”¨æˆ·æ•°æ®è¿›è¡Œå­˜å‚¨ï¼Œå› æ­¤é‡‡ç”¨mobxç›¸å¯¹æ¯”è¾ƒå°ï¼Œå­¦ä¹ ä½¿ç”¨æˆæœ¬ä¹Ÿç›¸å¯¹æ¯”è¾ƒä½ï¼Œé€šè¿‡es6çš„ä¿®é¥°å™¨å¼•å…¥mobxçš„observableæ¥å£ï¼Œåœ¨æ‰€æœ‰é¡µé¢å…±äº«è¯¥ç”¨æˆ·çš„æ•°æ®ï¼Œå‡å°‘å„ä¸ªé¡µé¢å¯¹ç”¨æˆ·æ•°æ®çš„ä¼ é€’å¯¼è‡´ç»„ä»¶çš„æ›´æ–°æˆ–è€…å› æ­¤è€Œå¯¼è‡´çš„å¢åŠ httpè¯·æ±‚ã€‚</p>
<p><strong>gulp-webpack:</strong><br>ä½¿ç”¨gulpè¿›è¡Œæœ¬åœ°çš„è°ƒè¯•å¼€å‘ï¼Œè‡ªåŠ¨æ›´æ–°é¡µé¢å¤§å¤§æé«˜äº†å¼€å‘çš„æ•ˆç‡ï¼Œé€šè¿‡webpackå¼•å…¥css-loaderã€style-loaderã€url-loaderåˆ†åˆ«å¯¹cssçš„urlè¿›è¡Œæ”¯æŒï¼Œå¯¹cssè¿›è¡Œæ”¯æŒï¼Œå¯¹å›¾ç‰‡urlè¿›è¡Œæ”¯æŒï¼Œè¿˜å¼•å…¥postcss-loaderï¼ˆautoprefixeræ’ä»¶ï¼‰è‡ªåŠ¨å¢åŠ csså‰ç¼€é€‚é…å¤šç«¯ï¼Œå¦å¤–å½“ç„¶æ˜¯å¼•å…¥babel-preset-es2015,babel-preset-reactå’Œbabel-preset-stage-num(0~3)å¯¹es6è¿›è¡Œè§£æã€‚</p>
<h3 id="åå°"><a href="#åå°" class="headerlink" title="åå°"></a><strong>åå°</strong></h3><p>åå°ä½¿ç”¨nodejs+expressæ¡†æ¶å¼€å¯æœåŠ¡å™¨ï¼Œé€šè¿‡expressç›‘å¬å„ä¸ªè¯·æ±‚ï¼Œè®¾ç½®è·¯ç”±ä¸“é—¨å¤„ç†ç›¸åº”çš„è¯·æ±‚ï¼Œå¦å¤–åœ¨å¯¹æ•°æ®åº“çš„æ“ä½œå†å¦å¤–è®¾ç½®ä¸€ä¸ªä»£ç†ï¼Œè·¯ç”±ä¸­é€šè¿‡ä»£ç†å¯¹æ•°æ®åº“è¿›è¡Œæ“ä½œåä½œå‡ºè¯·æ±‚çš„ç›¸åº”ã€‚<br>åå°è¿˜éœ€è¦é€šè¿‡å¼•å…¥bodyparserï¼Œcookieparseræ¥å¯¹body jsonæ•°æ®ä»¥åŠcookieè¿›è¡Œè§£æä½¿ç”¨ã€‚</p>
<h2 id="é—®é¢˜æ±‡æ€»"><a href="#é—®é¢˜æ±‡æ€»" class="headerlink" title="é—®é¢˜æ±‡æ€»"></a>é—®é¢˜æ±‡æ€»</h2><p>1.é¦–å…ˆæ„Ÿå—æœ€æ·±åˆ»çš„å°±æ˜¯æ¸¸æˆæ€§èƒ½é—®é¢˜çš„ï¼Œç”±äºé¦–æ¬¡æ¥è§¦canvasçš„æ¸¸æˆå¼€å‘ï¼Œå¯¹æ€§èƒ½çš„ç ”ç©¶åŸºæœ¬æ²¡æœ‰ï¼Œåœ¨æ‰è½â€œé‡‘å¸â€æ—¶çš„æ‰è½åŠ¨ç”»ä¼šæœ‰äº›è®¸å¡é¡¿ï¼Œä½“éªŒæå…¶ä¸å‹å¥½ã€‚<br><strong>æ”¹è¿›ï¼š</strong>é€šè¿‡ç›¸å…³ç ”ç©¶ï¼Œåœ¨æ‰è½â€œé‡‘å¸â€æ—¶ï¼Œå¯¹å…¶å¯¹è±¡è¿›è¡Œé‡å¤åˆ©ç”¨ï¼Œé€šè¿‡å¾ªç¯äº§ç”Ÿçš„â€œé‡‘å¸â€ï¼Œåœ¨ç»è¿‡ä¸‹é™åç”±äºâ€œé‡‘å¸â€ä¼šæ¶ˆå¤±åœ¨è§†å›¾ä¸­ï¼Œé€šè¿‡è®¾ç½®ä¸€å®šæ•°é‡ä¸Šé™è®©â€œé‡‘å¸â€è¾¾åˆ°ä¸Šé™æ—¶å†é‡æ–°ä»0å¼€å§‹èµ‹äºˆâ€œé‡‘å¸â€å±æ€§ã€‚</p>
<pre><code>function chansheng() {
    if (shi % h == 0) {
        for (var j = 2 * chi; j &lt; 2 * (chi + 1); j++) {
            tu[j] = new object();
            ...
            var range = canvasW - w * B;
            var i = Math.round(Math.random() * range);
            if (j == 2 * chi + 1) {
                while (Math.abs(i - tu[2 * chi].x) &lt; w * B) {
                    i = Math.round(Math.random() * range);
                }
            }
            tu[j].x = i;
            tu[j].y = -Math.round(Math.random() * 100);
        }
        chi++;
        if (chi == 50) chi = 0;  //é‡ç½®æ•°é‡
    }
    shi++;
}
</code></pre><p>2.åœ¨æ€§èƒ½çš„ä¼˜åŒ–æ–¹é¢è¿˜æœ‰å°±æ˜¯å¯ä»¥é€šè¿‡ç¼“å­˜å›¾åƒè¿›è¡Œæé«˜æ€§èƒ½ã€‚<br><strong>æ”¹è¿›ï¼š</strong></p>
<pre><code>var cacheCanvas = [],
    cacheCtx = [],
    down = [];
for (var i = 0; i &lt;= 4; i++) {
    down[i] = new Image();
}
down[0].src = &apos;images/down/boy.png&apos;;
down[1].src = &apos;images/down/+1s.png&apos;;
down[2].src = &apos;images/down/+10KG.png&apos;;
down[3].src = &apos;images/down/special.png&apos;;
down[4].src = &apos;images/down/love.png&apos;;
for (var i = 0; i &lt;= 4; i++) {
    down[i].onload = function() {
        for (var i = 0; i &lt;= 4; i++) {
            cacheCanvas[i] = document.createElement(&apos;canvas&apos;);  //åˆ›å»ºå¤šä¸ªcanvaså…ƒç´ æŠŠå›¾ç‰‡é¢„å…ˆç¼“å­˜ï¼Œéœ€è¦æ—¶å†å–å‡º
            cacheCtx[i] = cacheCanvas[i].getContext(&apos;2d&apos;);
            cacheCanvas[i].width = down[i].width * B;
            cacheCanvas[i].height = down[i].height * B;
            cacheCtx[i].drawImage(down[i], 0, 0, down[i].width * B, down[i].height * B)
        }
    }
}
</code></pre><p>3.æ¸¸æˆåœ¨ioså’Œå®‰å“çš„é€‚é…æ–¹é¢å‡ºç°äº†ä¸¤ä¸ªé—®é¢˜ï¼Œä¸€æ˜¯åœ¨iosä¸Šiframeæ ‡ç­¾æ— æ³•æ­£å¸¸å·¥ä½œï¼ŒäºŒæ˜¯ios9+çš„é‡åŠ›æ„Ÿåº”deviceorientationäº‹ä»¶è§¦å‘é¢‘ç‡ä¸åŒã€‚<br><strong>æ”¹è¿›ï¼š</strong> iframeæ ‡ç­¾æ— æ³•å·¥ä½œåç»Ÿä¸€ä½¿ç”¨å¤–é“¾çš„å½¢å¼ï¼Œç”±äºç”·å¥³è¿›å…¥çš„æ¸¸æˆæ˜¯ä¸åŒç‰ˆæœ¬çš„ï¼Œåœ¨reactçš„jsxä¸­å…ˆåˆ¤æ–­ç”¨æˆ·æ€§åˆ«ï¼Œåä½¿ç”¨è·³è½¬çš„æ–¹å¼è¿›å…¥æ¸¸æˆã€‚ç”±äºè§¦å‘é¢‘ç‡çš„ä¸åŒï¼Œå¯¼è‡´ios9+ä¸å…¶ä»–ç”¨æˆ·çš„ç§»åŠ¨é€Ÿåº¦ä¸åŒï¼Œios9+ä¼šæ¯”è¾ƒå¿«ï¼Œé€ æˆä¸å…¬å¹³ç°è±¡ï¼Œäºæ˜¯é‡‡ç”¨åŠ å…¥æ—¶é—´éªŒè¯çš„æ–¹å¼ä½¿æ¸¸æˆç›¸å¯¹å…¬å¹³ã€‚</p>
<pre><code>var timeControl = new Date();  //è®°å½•ä¸€æ¬¡è§¦å‘æ—¶é—´
window.addEventListener(&quot;deviceorientation&quot;, function(event) {
    if (new Date() - timeControl &gt;= 30) {   //æ—¶é—´ç›¸éš”å¤§äºç­‰äº30mså†è§¦å‘
        var move = event.gamma;
        if (move &lt; 0) {
            sprite.x = sprite.x - moveSpeed;
        } else if (move &gt; 0) {
            sprite.x = sprite.x + moveSpeed;
        }
        if (sprite.x + playerWidth &gt;= canvasW) sprite.x = canvasW - playerWidth;
        else if (sprite.x &lt;= 0) sprite.x = 0;
        timeControl = new Date(); //è§¦å‘ç»“æŸé‡ç½®æ—¶é—´
    }
}, true);
</code></pre><p>4.reactçš„è·¯ç”±è·³è½¬é—®é¢˜ï¼Œç›´æ¥å¼•ç”¨this.context.router.push(path)å‡ºé”™ã€‚<br><strong>æ”¹è¿›ï¼š</strong> åœ¨reactç»„ä»¶ä¸­éœ€åŠ å…¥contextTypeå¯¹è±¡ã€‚</p>
<pre><code>ComponentName.contextTypes = {
    router: React.propTypes.object.isRequired
} //ç»„ä»¶å¤–åŠ å…¥çš„æ‰€ä»¥åŠ ä¸Šç»„ä»¶åå­—
</code></pre>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ç»éªŒ/">ç»éªŒ</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-æˆ‘ä»¬å®¶CSCWFE+æ€»ç»“" class="article article-type-post" itemscope="" itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/05/07/æˆ‘ä»¬å®¶CSCWFE+æ€»ç»“/" class="article-date">
  	<time datetime="2017-05-06T16:00:00.000Z" itemprop="datePublished">2017-05-07</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/05/07/æˆ‘ä»¬å®¶CSCWFE+æ€»ç»“/">æˆ‘ä»¬å®¶CSCWFE+æ€»ç»“</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="CSCWFE"><a href="#CSCWFE" class="headerlink" title="CSCWFE"></a>CSCWFE</h2><blockquote>
<p>æ–°æ‹›æ”¶çš„ä¸€å¸®å°ä¼™å­å°å§‘å¨˜è¿˜æŒºä¸é”™,æ€ä¹ˆè¯´åœ¨å­¦ä¹ æ€åº¦ä¸Šè¿˜æ˜¯æŒºè®©äººæ¬£æ…°çš„,å¸Œæœ›è¿™ä¸€ä¸ªæœˆçš„åŸ¹è®­èƒ½ç»™ä»–ä»¬å¸¦æ¥å¸®åŠ©,å“ˆå“ˆæœªæ¥æ˜¯ä½ ä»¬çš„!</p>
<p>ä¸€ä¸ªæœˆåŸ¹è®­ä¸‹æ¥,è‡ªå·±åœ¨åšå‡†å¤‡å·¥ä½œçš„æ—¶å€™è¿˜æ˜¯æœ‰ä¸€äº›æ”¶è·,æœ‰äº›ä¸å¸¸ç”¨å¿˜æ‰çš„çŸ¥è¯†å¯ä»¥è¡¥å›æ¥,åŸæœ‰çš„çŸ¥è¯†è¿˜èƒ½åŠ æ·±ç†è§£,è·Ÿå°ä¼™å­å°å§‘å¨˜ä»¬ä¸€èµ·çš„è¿™æ®µæ—¶é—´æ˜¯éå¸¸å¿«ä¹çš„~å†è¯¦ç»†çš„ä¸œè¥¿å°±è®°åœ¨å¿ƒä¸­,ä¸å¤šè¯´å•¦.</p>
</blockquote>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><h3 id="ä¸­ç§‹ä½³èŠ‚"><a href="#ä¸­ç§‹ä½³èŠ‚" class="headerlink" title="ä¸­ç§‹ä½³èŠ‚"></a>ä¸­ç§‹ä½³èŠ‚</h3><p><strong>é¡¹ç›®FEæŠ€æœ¯:</strong> ä¸­ç§‹æ´»åŠ¨é‡‡ç”¨vuejsæ¡†æ¶,ä½¿ç”¨gulp webpackæ‰“åŒ…,gulp livereloadçš„è‡ªåŠ¨åˆ·æ–°åŠŸèƒ½å¯¹å¼€å‘æä¾›äº†å¾ˆå¤§çš„ä¾¿åˆ©,vueä»¥ç»„ä»¶åˆ‡æ¢çš„å½¢å¼ä»£æ›¿äº†ä¼ ç»Ÿçš„é¡µé¢è·³è½¬åˆ·æ–°å®ç°è§†å›¾çš„åˆ‡æ¢.<br><strong>é¡¹ç›®ç›®çš„:</strong> ä¸ºäº†æ›´å¥½çš„å–æœˆé¥¼O(âˆ©_âˆ©)O!!!è´­ä¹°æœˆé¥¼çš„å®¢æˆ·å¯æ‹¥æœ‰å‘èµ·ç¥ç¦çš„æœºä¼š,é€šè¿‡ç¥ç¦çš„åˆ†äº«ç‚¹èµåˆ—å‡ºæ’è¡Œ,ä»è€Œé€šè¿‡æ’åé€å‡ºæ´»åŠ¨ç¤¼å“.<br><strong>é¡¹ç›®æŠ€æœ¯å†…å®¹åˆ†æ+æ”¶è·:</strong></p>
<p>1.ç”±äºåŸå…ˆæœ‰å†™è¿‡vueé¡¹ç›®,æ‰€ä»¥å¯¹vueçš„å¼€å‘è¿˜æ˜¯æœ‰ç‚¹ç»éªŒçš„,å¯¹äºä¸€äº›å°ç»†èŠ‚ä¸Šçš„é—®é¢˜è¿˜æ˜¯èƒ½æ³¨æ„åˆ°,ä½†æ˜¯è¿™æ¬¡æ˜¯å®Œå…¨çš„è‡ªå·±å†™çš„é¡¹ç›®,å‡ºç°çš„é—®é¢˜è¿˜æ˜¯ä¸å°‘,æ”¶è·å¾ˆå¤§.</p>
<p>2.æ ·å¼çš„é—®é¢˜,ç”±äºä½¿ç”¨vueæ˜¯å°†é¡¹ç›®æ‰€æœ‰çš„jsæ–‡ä»¶æ‰“åŒ…æˆä¸€ä¸ªjs,æ‰€æœ‰çš„styleæ‰“åŒ…åœ¨ä¸€èµ·,æ‰€ä»¥ä¸åŒç»„ä»¶çš„classåéœ€è¦åŒºåˆ†å¼€æ¥,ä¸ç„¶è™½ç„¶styleå†™åœ¨ä¸åŒç»„ä»¶,ä½†ç”±äºæœ€åæ˜¯æ‰“åŒ…åœ¨ä¸€å—,æ‰€ä»¥æ˜¯ä¸€èµ·åŠ è½½çš„,ä¼šå½±å“å„ä¸ªç»„ä»¶çš„æ ·å¼.</p>
<p>3.é€—å·é—®é¢˜,åœ¨vueä¸­é€—å·ä¹Ÿæ˜¯ä¸€ä¸ªéœ€è¦æ—¶åˆ»æ³¨æ„çš„å°ç»†èŠ‚,åœ¨æ¯ä¸€ä¸ªå˜é‡,æ¯ä¸€ä¸ªå‡½æ•°,æ¯ä¸€ä¸ªå—åè¾¹éƒ½ä¹ æƒ¯æ€§çš„åŠ ä¸€ä¸ªé€—å·,å¦åˆ™ä¼šæŠ¥é”™,è™½ç„¶åœ¨ç»ˆç«¯èƒ½çœ‹åˆ°é”™è¯¯çš„ä½ç½®,ä½†æ˜¯æ³¨æ„å¥½è¿™äº›ç»†èŠ‚è¿˜æ˜¯èƒ½èŠ‚çº¦å¼€å‘æ—¶é—´,æ—¶é—´æ˜¯å®è´µçš„,è™½ç„¶çœ‹èµ·æ¥ä¼¼ä¹ä¸å¤š,ä½†ç»™è‡ªå·±å°‘åˆ¶é€ éº»çƒ¦æ˜¯ä¸ªå¥½ä¹ æƒ¯.</p>
<p>4.routerjs</p>
<pre><code>&quot;/receive&quot;: {
    component: receive
},
&quot;/receiveList/:userId&quot;: {
    name: &apos;userList&apos;,
    component: receiveList
},
&quot;/blessingDetail/:wishId/:state&quot;: {
    name: &apos;blessingDetail&apos;,
    component: blessingDetail
},

/receiveè·¯ç”±è·¯å¾„å,nameæ­¤è·¯ç”±(è¡¨ç¤ºæ•´ä¸ªè·¯ç”±)åå­—,componentæ­¤è·¯ç”±åŠ è½½çš„ç»„ä»¶,ç»„ä»¶çš„åˆ‡æ¢ä½ç½®å¯¹åº”ç›¸åº”çš„router-viewæ ‡ç­¾å†…,/:wishIdè¡¨ç¤ºå¯¹è·¯ç”±ä¼ å…¥çš„æ•°æ®,åœ¨è·¯ç”±ä¸­æ¥æ”¶,router.go()æˆ–v-linkéœ€å¸¦ä¸Šparamså¯¹è±¡,å¦å¤–è¿˜æœ‰subRoutesè¡¨ç¤ºæ­¤è·¯ç”±çš„å­è·¯ç”±,è·¯ç”±å¯å±‚å±‚é€’è¿›.
</code></pre><p>5.background,background-size:100% 100%å¯ä½¿èƒŒæ™¯å›¾åœ¨å½“å‰åŒºåŸŸå®Œå…¨æ‹‰ä¼¸æ˜¾ç¤ºå‡ºæ¥,ä½†æ˜¯è¿™ä¼šæœ‰ç‚¹è¾“å…¥æ¡†å¼¹å‡ºè¾“å…¥æ³•å°†èƒŒæ™¯å¾€ä¸ŠæŒ¤å‹çš„é—®é¢˜,é€šè¿‡background-size:coverå¯ä»¥è§£å†³æŒ¤å‹é—®é¢˜,coveræ˜¯è®©èƒŒæ™¯è¦†ç›–åœ¨åŒºåŸŸä¸Š,ä½†æ˜¯coveråœ¨å›¾ç‰‡è¾ƒå¤§æ—¶ä¼šä½¿å›¾ç‰‡æ˜¾ç¤ºä¸å…¨,background-attachment:fixedå¯ä½¿èƒŒæ™¯å›ºå®šä¸åŠ¨,è€Œé»˜è®¤çš„scrollè¡¨ç¤ºèƒŒæ™¯ä¼šéšç€å†…å®¹çš„æ»šåŠ¨çš„æ»šåŠ¨ä¸Šå».</p>
<p>6.cookieè®¾ç½®è®°å½•ç™»å½•çŠ¶æ€</p>
<pre><code>var setCookie = function(name, value, expires, path, domain, secure){
    var cookieText = encodeURIComponent(name) + &quot;=&quot; + encodeURIComponent(value);
    var cookieDate = new Date();
    cookieDate.setDate(cookieDate.getDate() + expires);
    // if(expires instanceof Date) {
    //     cookieText += &quot;; expires=&quot; + expires.toGMTString();
    // }
    cookieText += &quot;; expires=&quot; + cookieDate.toGMTString();
    if(path) {
        cookieText += &quot;; path=&quot; + path;
    }
    if(domain) {
        cookieText += &quot;; domain=&quot; + domain;
    }
    if(secure){
        cookieText += &quot;; secure&quot;;
    }
    document.cookie = cookieText;
};

     setCookie(&quot;phone&quot;, me.telephone, 30);

    var getCookie = function(name){
        var cookieName = encodeURIComponent(name) + &quot;=&quot;;
        var cookieStart = document.cookie.indexOf(cookieName);
        var cookieValue = null;
        if(cookieStart &gt; -1) {
            var cookieEnd = document.cookie.indexOf(&quot;;&quot; , cookieStart);
            if(cookieEnd == -1) {
                cookieEnd = document.cookie.length;
            }
            cookieValue = decodeURIComponent(document.cookie.substring(cookieStart + cookieName.length, cookieEnd));
        }
        // console.log(cookieValue);
        // this.telephone = &apos;123&apos;;
        return cookieValue;
    };

    if(getCookie(&quot;phone&quot;) !== null){
        this.$route.router.go({
            name: &quot;userList&quot;,
            params: {
                userId : getCookie(&quot;phone&quot;)
            },
        });
    }
</code></pre><p>7.éªŒè¯ç å€’è®¡æ—¶:eventä¸ºè§¦å‘çš„å‡½æ•°çš„å‚æ•°,è§¦å‘æ—¶æ— éœ€ä¼ å…¥</p>
<pre><code>var time = 60;
var timer;
timer = setInterval(function(){
    if(time &gt; 0){
        this.retimer = true;
        event.target.innerHTML = &quot;è¿˜æœ‰ &quot; + (time--) + &quot; ç§’&quot;;
        event.target.disabled = true;
    } else {
        this.retimer = false;
        window.clearInterval(timer);
        event.target.innerHTML = &quot;è·å–éªŒè¯ç &quot;;
        event.target.disabled = false;
    }
}, 1000);
</code></pre><p>8.å˜é‡çš„ä½œç”¨åŸŸ,å…¨å±€çš„å˜é‡å¯ä»¥å­˜åœ¨dataä¸­,ä½¿ç”¨thiså…³é”®å­—è®¿é—®.</p>
<p>9.</p>
<blockquote>
<p>æœ€åä¹Ÿæ˜¯æœ€å¤§çš„boss,å¾®ä¿¡çš„api,åŸå…ˆä»¥ä¸ºåªæ˜¯ç®€å•çš„è°ƒç”¨api,è°çŸ¥æ˜¯ä¸ªå¤§å‘.å¾®ä¿¡çš„apiè¿˜æ˜¯æœ‰å¾ˆå¤šä¸å®Œå–„çš„åœ°æ–¹,ç­¾åä¸Šå¤´ä¸€æ­¥é”™,åé¢ä¸€ç›´æ²¡æ³•ç”¨,æ—¶é—´å°±è¿™ä¹ˆæ‹–ç€,å½“å¯ä»¥ä½¿ç”¨äº†åˆæœ‰å¾ˆå¤šä½¿ç”¨ä¸Šçš„å›°éš¾,åœ¨æ¯ä¸€ä¸ªéœ€è¦ä½¿ç”¨å¾®ä¿¡æ¥å£çš„é¡µé¢éƒ½éœ€è¦å¯¹å¾®ä¿¡æ¥å£è¿›è¡Œé…ç½®.</p>
<p>æ¯”å¦‚,æƒ³è¦å¬å–å¾®ä¿¡çš„æ¥æ”¶çš„å½•éŸ³,ç”±äºä¸æ˜¯å‘å‡ºç«¯,æ‰€ä»¥æ²¡æœ‰å‘é€çš„æœ¬åœ°idå¯ä»¥åœ¨å¾®ä¿¡å¬å–å½•éŸ³ä¸­ç›´æ¥è°ƒç”¨,è¿™æ ·çš„è¯å°±éœ€è¦å¦å¤–å†™ä¸ªæ’­æ”¾å™¨æ¥å¬å–å½•éŸ³.åˆç”±äºå¾®ä¿¡å½•å–çš„å½•éŸ³æ˜¯armæ ¼å¼,h5ä¸­audioä¸æ”¯æŒarmæ ¼å¼,æ‰¾äº†å¾ˆä¹…çš„è½¬ç æ–¹å¼,æœ€åè¿˜æ˜¯åå°é‚£è¾¹è½¬ç ä¼ è¿‡æ¥æ‰èƒ½å¬å–.</p>
<p>å¦å¤–,éœ€è¦ç‰¹åˆ«æ³¨æ„çš„ä¸€ç‚¹æ˜¯,æƒ³è¦å¾®ä¿¡æ¥å£æ”¯æŒiphone,åœ¨åŠ å…¥</p>
<pre><code>&lt;script src=&quot;http://res.wx.qq.com/open/js/jweixin-1.0.0.js&quot;&gt;&lt;/script&gt;
</code></pre><p>åè¿˜éœ€è¦å¦å¤–åŠ å…¥</p>
<pre><code>&lt;script src=&quot;https://res.wx.qq.com/open/js/jweixin-1.0.0.js&quot;&gt;&lt;/script&gt;
</code></pre><p>è€Œä¸”,è¿˜æ²¡æœ‰æ¢ç©¶å‡ºæ¥çš„ä¸€ä¸ªbugå°±æ˜¯åœ¨å¤šä¸ªé¡µé¢ä¸Š,æœ‰çš„å†™äº†ç¦æ­¢åˆ†äº«æ“ä½œ,æœ‰çš„å†™äº†åˆ†äº«æ“ä½œ,åœ¨Androidä¸Šæ˜¯å¯ä»¥æ­£å¸¸æ‰§è¡Œçš„,ä½†æ˜¯åœ¨iPhoneä¸Šä¼šå¯¼è‡´è¿™å‡ ä¸ªé¡µé¢å…¨éƒ¨éƒ½æ²¡æœ‰åˆ†äº«,è¿™æ˜¯é¡¹ç›®æ­£å¸¸è¿è¡Œçš„ä¸€ä¸ªé‡è¦çš„ç»†èŠ‚,å½“æ—¶è¿™é—®é¢˜æ˜¯é€šè¿‡ç»•è¿‡é—®é¢˜æ¥è·³è¿‡äº†,ä½†æ˜¯ç»•è¿‡é—®é¢˜è€Œä¸æ˜¯è§£å†³çš„é—®é¢˜çš„æ–¹æ³•æ˜¯ä¸æ”¯æŒçš„,è¿™ä¸ªé—®é¢˜è¿˜å€¼å¾—æ¢ç©¶æ¢ç©¶.</p>
<p>æ€»ä¹‹,å¾®ä¿¡apiå‘ä¸å°‘,å¯èƒ½ä»¥åè¿˜ä¼šé‡åˆ°å…¶ä»–çš„,æ…¢æ…¢ç§¯ç´¯ç»éªŒå§~</p>
</blockquote>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/å¨±ä¹-ç»éªŒ/">å¨±ä¹+ç»éªŒ</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-å¼‚æ­¥ç¼–ç¨‹" class="article article-type-post" itemscope="" itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/05/07/å¼‚æ­¥ç¼–ç¨‹/" class="article-date">
  	<time datetime="2017-05-06T16:00:00.000Z" itemprop="datePublished">2017-05-07</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/05/07/å¼‚æ­¥ç¼–ç¨‹/">å¼‚æ­¥ç¼–ç¨‹</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>åå‡½æ•°ç”¨æ³•</strong></p>
<pre><code>var toString = Object.prototype.toString;
var isString = function (obj) {
    return toString.call(obj) == &apos;[object String]&apos;;
};
var isFunction = function (obj) {
    return oString.call(obj) == &apos;[object Function]&apos;;
};
</code></pre><p>å·¥å‚æ¨¡å¼ï¼š</p>
<pre><code>var isType = function (type) {
    return function (obj) {
        return toString.call(obj) == &apos;[object &apos; + type + &apos;]&apos;;
    };
};
var isString = isType(&apos;String&apos;);
var isFunction = isType(&apos;Function&apos;);
</code></pre><p><strong>äº‹ä»¶å‘å¸ƒ/è®¢é˜…</strong></p>
<pre><code>//è®¢é˜…
emitter.on(&quot;evebt1&quot;,function (message) {
    console.log(message);
});

//å‘å¸ƒ
emitter.emit(&apos;event1&apos;,&quot;I am message!&quot;);
</code></pre><p>Nodeå¯¹äº‹ä»¶å‘å¸ƒ/è®¢é˜…æœºåˆ¶åšäº†é¢å¤–å¤„ç†ï¼š</p>
<p>1.å¦‚æœå¯¹ä¸€ä¸ªæ—¶é—´æ·»åŠ è¶…è¿‡10ä¸ªä¾¦å¬å™¨ä¼šå¾—åˆ°ä¸€æ¡è­¦å‘Šã€‚è¿™è·ŸNodeè‡ªèº«å•çº¿ç¨‹æœ‰å…³ï¼Œè®¾è®¡è€…è®¤ä¸ºä¾¦å¬å™¨å¤ªå¤šå¯èƒ½å­˜åœ¨å†…å­˜æ³„æ¼ã€‚è°ƒç”¨emitter.setMaxListeners(0)å¯ä»¥å°†è¿™ä¸ªé™åˆ¶å»æ‰ã€‚å¦å¤–ï¼Œç”±äºäº‹ä»¶å‘å¸ƒä¼šå¼•èµ·ä¸€ç³»åˆ—ä¾¦å¬å™¨æ‰§è¡Œï¼Œå¦‚æœä¾¦å¬å™¨è¿‡å¤šï¼Œå¯èƒ½è¿‡å¤šå ç”¨CPUã€‚<br>2.ä¸ºå¤„ç†å¼‚å¸¸ï¼ŒEventEmitterå¯¹è±¡å¯¹erroräº‹ä»¶è¿›è¡Œäº†ç‰¹æ®Šå¯¹å¾…ã€‚å¦‚æœè¿è¡ŒæœŸé—´çš„é”™è¯¯è§¦å‘äº†erroräº‹ä»¶ï¼ŒEventEmitterä¼šæ£€æŸ¥æ˜¯å¦æœ‰å¯¹erroräº‹ä»¶æ·»åŠ ä¾¦å¬å™¨ï¼Œè‹¥æœ‰åˆ™é”™è¯¯äº¤ç»™ä¾¦å¬å™¨å¤„ç†ï¼Œå¦åˆ™æŠ›å‡ºå¼‚å¸¸ã€‚å¦‚æœå¤–éƒ¨æ²¡æœ‰æ•è·è¿™ä¸ªå¼‚å¸¸ï¼Œå°†ä¼šå¼•èµ·çº¿ç¨‹é€€å‡ºã€‚å¥å£®çš„EventEmitterå®ä¾‹åº”å¯¹erroräº‹ä»¶åšå¤„ç†ã€‚</p>
<p><strong>ç»§æ‰¿eventsæ¨¡å—</strong></p>
<pre><code>var events = require(&apos;events&apos;);
function Stream() {
    events.EventEmitter.call(this);
}
util.inherits(Stream, events.EventEmitter);(Nodeåœ¨utilä¸­å°è£…äº†ç»§æ‰¿æ–¹æ³•)
</code></pre><p><strong>EventProxyæ¨¡å—è§£å†³å¤šå¼‚æ­¥ä¹‹é—´çš„åä½œ</strong></p>
<pre><code>var proxy = new EventProxy();
proxy.all(&quot;template&quot;, &quot;data&quot;, &quot;resources&quot;, function (template, data, resources) {
    //TODO
});
fs.readFile(template_path, &quot;utf8&quot;, function (err, template) {
    proxy.emit(&quot;template&quot;, template);
});
db.query(sql, function (err, data) {
    proxy.emit(&quot;data&quot;, data);
});
l10n.get(function (err, resources) {
    proxy.emit(&quot;resources&quot;, resources);
});
</code></pre><p>EventProxyæä¾›äº†ä¸€ä¸ªall()æ–¹æ³•æ¥è®¢é˜…å¤šä¸ªäº‹ä»¶ï¼Œå½“æ¯ä¸ªäº‹ä»¶éƒ½è¢«è§¦å‘åï¼Œä¾¦å¬å™¨æ‰ä¼šæ‰§è¡Œä¸€æ¬¡ã€‚å¦å¤–ä¸€ä¸ªtail()æ˜¯ä¾¦å¬å™¨åœ¨æ»¡è¶³æ¡ä»¶æ—¶æ‰§è¡Œä¸€æ¬¡åï¼Œå¦‚æœç»„åˆäº‹ä»¶ä¸­çš„æŸä¸ªäº‹ä»¶å†æ¬¡è§¦å‘ï¼Œä¾¦å¬å™¨ä¼šç”¨æœ€æ–°æ•°æ®ç»§ç»­æ‰§è¡Œã€‚</p>
<p><strong>EventProxyçš„å¼‚å¸¸å¤„ç†</strong></p>
<p>EventProxyæä¾›äº†fail()å’Œdone()ä¸¤ä¸ªå®ä¾‹æ–¹æ³•ä¼˜åŒ–å¼‚å¸¸å¤„ç†ï¼Œä½¿å¼€å‘å…³æ³¨ä¸šåŠ¡éƒ¨åˆ†ï¼Œè€Œä¸æ˜¯å¼‚å¸¸æ•è·ä¸Šã€‚<br>fail():</p>
<pre><code>ep.fail(callback);
ç­‰ä»·äºï¼š
ep.fail(function (err) {
    callback(err);
});
ç­‰ä»·äºï¼š
ep.bind(&apos;error&apos;, function (err) {
    //å¸è½½æ‰æ‰€æœ‰å¤„ç†å‡½æ•°
    ep.unbind();
    //å¼‚å¸¸å¤„ç†
    callback(err);
});
</code></pre><p>done():<br>ep.done(â€˜tplâ€™);<br>ç­‰ä»·äºï¼š</p>
<pre><code>function (err, content) {
    if (err) {
        //ä¸€æ—¦å‘ç”Ÿå¼‚å¸¸ï¼Œäº¤ç»™erroräº‹ä»¶å¤„ç†å‡½æ•°å¤„ç†
        return ep.emit(&apos;error&apos;, err);
    }
    ep.emit(&apos;tpl&apos;, content);
}
</code></pre><p>done()æ–¹æ³•ä¹Ÿæ¥å—ä¸€ä¸ªå‡½æ•°ä½œå‚æ•°ï¼š</p>
<pre><code>ep.done(function (content) {
    //TODO
    //è¿™é‡Œæ— éœ€è€ƒè™‘å¼‚å¸¸
    ep.emit(&apos;tpl&apos;, content);
});
ç­‰ä»·äºï¼š
function (err, content) {
    if (err) {
        //ä¸€æ—¦å‘ç”Ÿå¼‚å¸¸ï¼Œäº¤ç»™erroräº‹ä»¶å¤„ç†å‡½æ•°å¤„ç†
        return ep.emit(&apos;error&apos;, err);
    }
    (function (content) {
        //TODO
        //è¿™é‡Œæ— éœ€è€ƒè™‘å¼‚å¸¸
        ep.emit(&apos;tpl&apos;, content);
    }(content));
}
</code></pre><p><strong>thenæ–¹æ³•</strong></p>
<p>1.æ¥å—å®Œæˆæ€ã€é”™è¯¯æ€çš„å›è°ƒæ–¹æ³•ã€‚<br>2.å¯é€‰çš„æ”¯æŒprogressäº‹ä»¶å›è°ƒä½œä¸ºç¬¬ä¸‰ä¸ªæ–¹æ³•ã€‚<br>3.then()æ–¹æ³•åªæ¥å—functionå¯¹è±¡ï¼Œå…¶ä½™å¯¹è±¡è¢«å¿½ç•¥ã€‚<br>4.then()æ–¹æ³•ç»§ç»­è¿”å›Promiseå¯¹è±¡ï¼Œå®ç°é“¾å¼è°ƒç”¨ã€‚<br>thenæ–¹æ³•å®šä¹‰ï¼š<br>then(fulfilledHandler, errorHandler, progressHandler)</p>
<p><strong>ä»¥ä¸Šä¸ºæœ€ä¸ºä¸»æµçš„æ¨¡å¼ï¼šäº‹ä»¶å‘å¸ƒ/è®¢é˜…æ¨¡å¼å’ŒPromise/Deferredæ¨¡å¼</strong></p>
<h3 id="éæ¨¡å¼åŒ–åº”ç”¨"><a href="#éæ¨¡å¼åŒ–åº”ç”¨" class="headerlink" title="éæ¨¡å¼åŒ–åº”ç”¨"></a>éæ¨¡å¼åŒ–åº”ç”¨</h3><p><strong>å°¾è§¦å‘å’ŒNext</strong><br>å°¾è§¦å‘ç›®å‰åº”ç”¨æœ€å¤šçš„åœ°æ–¹æ˜¯Connectçš„ä¸­é—´ä»¶<br>æœ€ç®€å•çš„ä¸­é—´ä»¶ï¼š</p>
<pre><code>function(reqè¯·æ±‚å¯¹è±¡, reså“åº”å¯¹è±¡, nextå°¾è§¦å‘å‡½æ•°){
    //ä¸­é—´ä»¶
}
</code></pre><p>Connectçš„æ ¸å¿ƒå®ç°ï¼š</p>
<pre><code>function createServer () {
    function app(req, res){app.handle(req, res);}
    utils.merge(app, proto);
    utils.merge(app, EventEmitter.prototype);
    app.route = &apos;/&apos;;
    app.stack = [];//æ ¸å¿ƒï¼Œä¸­é—´ä»¶é˜Ÿåˆ—
    for(var i = 0;i &lt; arguments.length; i++){
        app.use(arguments[i]);
    }
    return app;
};
app.use = function(route, fn){
    // some code
    this.stack.push({ route: route, handle: fn});
    return this;
}
NodeåŸå£°åˆåŒhttpæ¨¡å—å®ç°ç›‘å¬ï¼š
app.listen = function () {
    var server = http.createServer(this);
    return server.listen.apply(server, arguments);
};
å¤„ç†æ¯ä¸€ä¸ªç›‘å¬åˆ°çš„ç½‘ç»œè¯·æ±‚ï¼š
app.handle = function(req, res, out){
    //some code
    next();
}
ç®€åŒ–åçš„next():
function next(err) {
    //some code
    //next callback
    layer = stack[index++];
    layer.handle(req, res, next);//ä¼ å…¥nextæŒç»­è§¦å‘
}
</code></pre><p><strong>æµç¨‹æ§åˆ¶æ¨¡å—async</strong><br>å¼‚æ­¥çš„ä¸²è¡Œæ‰§è¡Œï¼šseries()æ–¹æ³•</p>
<pre><code>async.series([
    function(callback){
        fs.readFile(&apos;file1.txt&apos;,&apos;utf-8&apos;,callback);
    },
    function(callback){
        fa.readFile(&apos;file2.txt&apos;,&apos;utf-8&apos;,callback);
    }
],function(err, results) {
    //results =&gt; [file1.txt, file2.txt]
});
ç­‰ä»·äºï¼š
fs.readFile(&apos;file1.txt&apos;, &apos;utf-8&apos;, function(err, content){
    if (err) {
        return callback(err);
    }
    fs.readFile(&apos;file2.txt&apos;, &apos;utf-8&apos;, function(err, data) {
        if(err) {
            return callback(err);
        }
        callback(null, [content, data]);
    });
});
</code></pre><p>å¼‚æ­¥çš„å¹¶è¡Œæ‰§è¡Œï¼šparallel()æ–¹æ³•</p>
<pre><code>async.parallel([
    function (callback) {
        fs.readFile(&apos;file1.txt&apos;, &apos;utf-8&apos;, callback);
    },
    function (callback) {
        fs.readFile(&apos;file2.txt&apos;, &apos;utf-8&apos;, callback);
    }
], function (err, results) {
    //results =&gt; [file1.txt, file2.txt]
});
ç­‰ä»·äºï¼š
var counter = 2;
var results = [];
var done = function (index, value){
    results[index] = value;
    counter--;
    if(counter === 0 ) {
        callback(null, results);
    }
};
//åªä¼ é€’ç¬¬ä¸€ä¸ªå¼‚å¸¸
var hasErr = false;
var fail = function (err) {
    if(!hasErr) {
        hasErr = true;
        callback(err);
    }
};
fs.readFile(&apos;file1.txt&apos;, &apos;utf-8&apos;, function (err, content) {
    if (err) {
        return fail(err);
    }
    done(0, content);
});
fs.readFile(&apos;file2.txt&apos;, &apos;utf-8&apos;, function (err, content) {
    if (err) {
        return fail(err);
    }
    done(1, data);
});
</code></pre>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ç»éªŒ/">ç»éªŒ</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-å¼‚æ­¥I-O" class="article article-type-post" itemscope="" itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/05/07/å¼‚æ­¥I-O/" class="article-date">
  	<time datetime="2017-05-06T16:00:00.000Z" itemprop="datePublished">2017-05-07</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/05/07/å¼‚æ­¥I-O/">å¼‚æ­¥I/O</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>å¼‚æ­¥I/Oä¸éé˜»å¡I/O</strong></p>
<p>é˜»å¡I/Oï¼šè°ƒç”¨ä¹‹åç­‰åˆ°ç³»ç»Ÿå†…æ ¸å±‚é¢å®Œæˆæ‰€æœ‰æ“ä½œåè°ƒç”¨ç»“æŸï¼Œé€ æˆCPUç­‰å¾…I/Oï¼Œæµªè´¹ç­‰å¾…æ—¶é—´ï¼ŒCPUå¤„ç†èƒ½åŠ›ä¸èƒ½å……åˆ†åˆ©ç”¨ã€‚<br>éé˜»å¡I/Oï¼šè°ƒç”¨ä¹‹åç«‹å³è¿”å›ï¼ŒCPUæ—¶é—´ç‰‡å¯ä»¥ç”¨æ¥å¤„ç†å…¶ä»–äº‹åŠ¡ï¼Œæå‡æ€§èƒ½ã€‚ä½†å…¶ç«‹å³è¿”å›çš„ä¸æ˜¯å®Œæ•´æ•°æ®ï¼Œè€Œæ˜¯è°ƒç”¨çŠ¶æ€ï¼Œåº”ç”¨ç¨‹åºéœ€è¦åˆ©ç”¨è½®è¯¢çš„åŠæ³•é‡å¤è°ƒç”¨I/Oæ¥è·å–å®Œæ•´æ•°æ®å’Œç¡®è®¤æ˜¯å¦å®Œæˆã€‚ï¼ˆè®©CPUå¤„ç†çŠ¶æ€åˆ¤æ–­ï¼Œæµªè´¹CPUèµ„æºï¼‰</p>
<p><strong>è½®è¯¢æŠ€æœ¯</strong></p>
<p>readï¼šæœ€åŸå§‹ï¼Œæ€§èƒ½æœ€ä½ã€‚é€šè¿‡é‡å¤è°ƒç”¨æ£€æŸ¥I/OçŠ¶æ€å®Œæˆã€‚åœ¨å¾—åˆ°æœ€ç»ˆæ•°æ®å‰ï¼ŒCPUä¸€ç›´è€—åœ¨ç­‰å¾…ä¸Šã€‚<br>selectï¼šæ”¹è¿›æˆé€šè¿‡æ–‡ä»¶æè¿°ç¬¦ä¸Šäº‹ä»¶çŠ¶æ€æ¥åˆ¤æ–­ã€‚æœ‰ä¸€ä¸ªè¾ƒå¼±é™åˆ¶ï¼Œé€šè¿‡ä¸€ä¸ª1024é•¿åº¦æ•°ç»„æ¥å­˜å‚¨çŠ¶æ€ï¼Œæœ€å¤šå¯åŒæ—¶æ£€æŸ¥             1024ä¸ªæ–‡ä»¶æè¿°ç¬¦ã€‚<br>pollï¼šæ”¹è¿›æˆé€šè¿‡é“¾è¡¨å­˜å‚¨ï¼Œæ€§èƒ½é™åˆ¶æœ‰æ‰€æ”¹å–„ï¼Œè·Ÿselectç±»ä¼¼ã€‚<br>epollï¼šLinuxä¸‹æ•ˆç‡æœ€é«˜çš„I/Oäº‹ä»¶é€šçŸ¥æœºåˆ¶ï¼Œåœ¨è¿›å…¥è½®è¯¢æ—¶æ²¡æœ‰æ£€æŸ¥åˆ°I/Oäº‹ä»¶æ—¶è¿›è¡Œä¼‘çœ ï¼Œç›´åˆ°äº‹ä»¶å‘ç”Ÿå”¤é†’ã€‚å®ƒçœŸå®åˆ©ç”¨äº†äº‹ä»¶é€šçŸ¥ã€æ‰§è¡Œå›è°ƒçš„æ–¹å¼ï¼Œè€Œä¸æ˜¯éå†æŸ¥è¯¢ï¼Œä¸ä¼šæµªè´¹CPUï¼Œæ‰§è¡Œæ•ˆç‡è¾ƒé«˜ã€‚<br>kqueueï¼šè¯¥æ–¹æ¡ˆå®ç°ä¸epollç±»ä¼¼ï¼Œä¸è¿‡å®ƒä»…åœ¨FreeBSDç³»ç»Ÿä¸‹å­˜åœ¨ã€‚</p>
<p>è½®è¯¢æŠ€æœ¯æ»¡è¶³äº†éé˜»å¡I/Oç¡®ä¿è·å–å®Œæ•´æ•°æ®çš„éœ€æ±‚ï¼Œä½†å¯¹äºåº”ç”¨ç¨‹åºä»ç„¶ç®—æ˜¯åŒæ­¥ï¼Œåº”ç”¨ç¨‹åºä»ç„¶éœ€è¦ç­‰å¾…I/Oå®Œå…¨è¿”å›ã€‚</p>
<p><strong>è¯·æ±‚å¯¹è±¡</strong></p>
<p>ä»javascriptå‘èµ·è°ƒç”¨åˆ°å†…æ ¸æ‰§è¡ŒI/Oæ“ä½œçš„è¿‡æ¸¡è¿‡ç¨‹ä¸­ï¼Œå­˜åœ¨ä¸€ç§ä¸­é—´äº§ç‰©ï¼Œå«è¯·æ±‚å¯¹è±¡ã€‚<br>javascriptè°ƒç”¨-&gt;nodeæ ¸å¿ƒæ¨¡å—-&gt;c++å†…å»ºæ¨¡å—-&gt;é€šè¿‡libuvè¿›è¡Œç³»ç»Ÿè°ƒç”¨<br>libuvä½œä¸ºå°è£…å±‚ï¼Œæœ‰ä¸¤ä¸ªå¹³å°çš„å®ç°ï¼ˆwinå’Œunixï¼‰ï¼Œå®é™…ä¸Šè°ƒç”¨äº†uv_fs_open()æ–¹æ³•ï¼Œåœ¨å…¶è°ƒç”¨è¿‡ç¨‹ä¸­ï¼Œåˆ›å»ºäº†FSReqWrapå¯¹è±¡ï¼Œjavascriptå±‚ä¼ å…¥çš„å‚æ•°å’Œæ–¹æ³•å°è£…åœ¨è¿™ä¸ªè¯·æ±‚å¯¹è±¡ä¸­ï¼Œå›è°ƒå‡½æ•°åˆ™è®¾ç½®åœ¨è¿™ä¸ªå¯¹è±¡çš„oncomplete_symå±æ€§ä¸Šã€‚<br>è¯·æ±‚å¯¹è±¡æ˜¯å¼‚æ­¥I/Oè¿‡ç¨‹çš„é‡è¦ä¸­é—´äº§ç‰©ï¼Œæ‰€æœ‰çŠ¶æ€éƒ½ä¿å­˜åœ¨è¿™ä¸ªå¯¹è±¡ï¼ŒåŒ…æ‹¬é€å…¥çº¿ç¨‹æ± ç­‰å¾…æ‰§è¡ŒåŠI/Oæ“ä½œå®Œæ¯•åçš„å›è°ƒå¤„ç†ã€‚</p>
<p>å°ç»“<br>å¼‚æ­¥I/Oï¼šå•çº¿ç¨‹ã€äº‹ä»¶å¾ªç¯ã€è§‚å¯Ÿè€…å’ŒI/Oçº¿ç¨‹æ± ã€‚åœ¨Nodeä¸­ï¼Œjavascriptæ˜¯å•çº¿ç¨‹ï¼Œnodeè‡ªèº«æ˜¯å¤šçº¿ç¨‹çš„ï¼Œåªæ˜¯I/Oçº¿ç¨‹ä½¿ç”¨çš„CPUè¾ƒå°‘ã€‚å¦ä¸€ä¸ªéœ€è¦é‡è§†çš„è§‚ç‚¹æ˜¯ï¼Œé™¤äº†ç”¨æˆ·ä»£ç æ— æ³•å¹¶è¡Œæ‰§è¡Œå¤–ï¼Œæ‰€æœ‰I/Oï¼ˆç£ç›˜I/Oå’Œç½‘ç»œI/Oç­‰ï¼‰æ˜¯å¯ä»¥å¹¶è¡Œèµ·æ¥çš„ã€‚</p>
<p><strong>éI/Oçš„å¼‚æ­¥API</strong></p>
<p>ç«‹å³å¼‚æ­¥æ‰§è¡Œï¼š<br>setTimeout(function(){<br>    //<br>},0);<br>è¿™ç§æ–¹æ³•è¾ƒæµªè´¹æ€§èƒ½<br>process.nextTick(function(){<br>    console.log(â€˜å»¶è¿Ÿæ‰§è¡Œâ€™)ï¼›<br>})ï¼›<br>console.log(â€˜æ­£å¸¸æ‰§è¡Œâ€™)ï¼›<br>è¾“å‡ºï¼š<br>æ­£å¸¸æ‰§è¡Œ<br>å»¶è¿Ÿæ‰§è¡Œ</p>
<p>setImmediate(function(){<br>    console.log(â€˜å»¶è¿Ÿæ‰§è¡Œâ€™)ï¼›<br>})ï¼›<br>console.log(â€˜æ­£å¸¸æ‰§è¡Œâ€™)ï¼›<br>è¾“å‡ºï¼š<br>æ­£å¸¸æ‰§è¡Œ<br>å»¶è¿Ÿæ‰§è¡Œ<br>process.nextTick()è·ŸsetImmediate()ç±»ä¼¼ï¼Œä½†ï¼š<br>process.nextTick(function(){<br>    console.log(â€˜nextTickå»¶è¿Ÿæ‰§è¡Œâ€™)ï¼›<br>})ï¼›<br>setImmediate(function(){<br>    console.log(â€˜setImmediateå»¶è¿Ÿæ‰§è¡Œâ€™)ï¼›<br>})ï¼›<br>console.log(â€˜æ­£å¸¸æ‰§è¡Œâ€™)ï¼›<br>è¾“å‡ºï¼š<br>æ­£å¸¸æ‰§è¡Œ<br>nextTickå»¶è¿Ÿæ‰§è¡Œ<br>setImmediateå»¶è¿Ÿæ‰§è¡Œ<br>process.nextTick()ä¸­å›è°ƒå‡½æ•°ä¼˜å…ˆçº§é«˜äºsetImmediate()ã€‚å› ä¸ºäº‹ä»¶å¾ªç¯å¯¹è§‚å¯Ÿè€…çš„æ£€æŸ¥æœ‰å…ˆåé¡ºåºï¼Œprocess.nextTick()å±äºidleè§‚å¯Ÿè€…ï¼ŒsetImmediate()å±äºcheckè§‚å¯Ÿè€…ã€‚<br>æ¯ä¸€è½®å¾ªç¯æ£€æŸ¥ä¸­ï¼Œidleè§‚å¯Ÿè€…&gt;I/Oè§‚å¯Ÿè€…&gt;checkè§‚å¯Ÿè€…</p>
<p>process.nextTick()çš„å›è°ƒå‡½æ•°å­˜åœ¨ä¸€ä¸ªæ•°ç»„ä¸­ï¼Œæ¯è½®å¾ªç¯å…¨éƒ¨æ‰§è¡Œå®Œï¼›<br>setImmediate()æ¯è½®åªæ‰§è¡Œé“¾è¡¨ä¸­çš„ä¸€ä¸ªå›è°ƒå‡½æ•°ã€‚</p>
<p>äº‹ä»¶é©±åŠ¨å’Œé«˜æ€§èƒ½æœåŠ¡å™¨<br>ç»å…¸æœåŠ¡å™¨æ¨¡å‹ï¼š<br>åŒæ­¥å¼ï¼šä¸€æ¬¡å¤„ç†ä¸€ä¸ªè¯·æ±‚ï¼Œå…¶ä½™è¯·æ±‚å¤„äºç­‰å¾…çŠ¶æ€ï¼›<br>æ¯è¿›ç¨‹/æ¯è¯·æ±‚ï¼šæ¯ä¸ªè¯·æ±‚åˆ›å»ºä¸€ä¸ªè¿›ç¨‹ï¼Œå¯å¤„ç†å¤šä¸ªè¯·æ±‚ï¼Œä½†ä¸å…·å¤‡æ‰©å±•æ€§ï¼Œç³»ç»Ÿèµ„æºæœ‰é™ï¼›<br>æ¯çº¿ç¨‹/æ¯è¯·æ±‚ï¼šæ¯ä¸ªè¯·æ±‚åˆ›å»ºä¸€ä¸ªçº¿ç¨‹ï¼Œå¯å¤„ç†å¤šä¸ªè¯·æ±‚ï¼Œçº¿ç¨‹æ¯”è¿›ç¨‹è½»é‡ï¼Œä½†æ¯ä¸ªçº¿ç¨‹ä¹Ÿå å†…å­˜ï¼Œå¯¹äºå¤§å‹ç«™ç‚¹ä»ç„¶ä¸å¤Ÿã€‚</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ç»éªŒ/">ç»éªŒ</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-projectæ€»ç»“" class="article article-type-post" itemscope="" itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/05/07/projectæ€»ç»“/" class="article-date">
  	<time datetime="2017-05-06T16:00:00.000Z" itemprop="datePublished">2017-05-07</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/05/07/projectæ€»ç»“/">projectæ€»ç»“</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>å¥½ä¹…æ²¡æœ‰å†™åšæ–‡äº†ï¼Œè¿™ç¡®å®ä¸æ˜¯ä¸ªå¥½ä¹ æƒ¯ï¼Œæ¯•ç«Ÿå¿ƒå¾—ä½“ä¼šä¸ä¼šä¸€ç›´ç‰¢è®°å¿ƒä¸­ã€‚</p>
<p>å¥½äº†ï¼Œå¦‚é¢˜ï¼Œä»‹ç»ä¸‹æˆ‘çš„å°é¡¹ç›®äº†ï½</p>
<p><strong>é¡¹ç›®åç§°</strong>ï¼šAå…¬å¸å¾®ä¿¡å…¬ä¼—å·ä¸Šçš„å®˜æ–¹</p>
<p><strong>é¡¹ç›®æè¿°</strong>ï¼šç”¨è½»é‡çº§js=&gt;vuejsï¼Œé€šè¿‡gulp-webpackæ‰“åŒ…ï¼Œéƒ¨åˆ†å†…å®¹åˆ‡åˆ†å‡ºæ¥å¦å¤–ç”¨åŸºæœ¬çš„htmlï¼Œcsså’Œjså®Œæˆï¼Œä¸ºäº†ä½¿æ‰“åŒ…åçš„æ–‡ä»¶èƒ½è¾ƒå°ï¼Œæ›´åŠ æé«˜æ‰“å¼€çš„æ€§èƒ½ï¼Œè™½ç„¶è·¯ç”±ä½¿ç”¨äº†æ‡’åŠ è½½ï¼ˆåšè¿™ä¸ªé¡¹ç›®æ—¶vue-routerçš„æ–‡æ¡£çš„æ‡’åŠ è½½ä¼šæŠ¥é”™ï¼Œå…·ä½“è§£å†³åŠæ³•è§ä¸‹æ–‡ï¼‰ã€‚è¿™ä¸ªé¡¹ç›®ä½œä¸ºå…¬å¸å®˜ç½‘ä¸»è¦æ˜¯å±•ç¤ºå…¬å¸çš„ä¸€äº›ä¿¡æ¯ï¼Œæ¯”å¦‚å…¬å¸ä»‹ç»ï¼Œå…¬å¸çš„èµ„è®¯ï¼Œå…¬å¸ç›¸å…³äº§å“ç­‰</p>
<p><strong>é¡¹ç›®èŒè´£</strong>ï¼šå‰ç«¯å¼€å‘ï¼ŒåŒ…æ‹¬é¡µé¢çš„å®ç°è¿˜æœ‰è·Ÿåå°çš„æ¥å£å¯¹æ¥è°ƒè¯•</p>
<p><strong>é¡¹ç›®æŠ€æœ¯è®°å½•</strong>ï¼š</p>
<p><strong>1.</strong>é¡¹ç›®ç›®å½•è¿˜æ˜¯è€æ ·å­ï¼Œå¯å¤ç”¨ç»„ä»¶æŠ½å‡ºï¼Œæ™®é€šç»„ä»¶åˆ†æ–‡ä»¶å¤¹æ”¾å¥½ï¼Œé¡¹ç›®ç»“æ„å°±æ¸…æ™°å¤šäº†ï¼Œè™½ç„¶éƒ½ä¼šè¿™ä¹ˆæƒ³ï¼Œä½†æ˜¯åšå¯èƒ½ä¼šå¿˜äº†ï¼Œè¿™ä¹Ÿæ˜¯ä¸€ç§ç»éªŒã€‚</p>
<p><strong>2.</strong>vue-routerçš„æ‡’åŠ è½½ï¼ŒæŸ¥è¯¢äº†ç›¸å…³èµ„æ–™åä½¿ç”¨äº†è¿™ç§æ–¹æ³•æœ‰æ•ˆï¼š</p>
<pre><code>&quot;pashName&quot;: {         
    component: function(resolve) {
        require.ensure([&apos;componentPath&apos;], function(){
            resolve(require(&apos;componentPath&apos;));             });           },
},
</code></pre><p><strong>3.</strong>å…³äºæœ‰äº›é¡µé¢å¯èƒ½å†…å®¹æ— æ³•é“ºæ»¡æ•´ä¸ªå±å¹•ï¼Œè€Œå½“å†…å®¹å¤šçš„æ—¶å€™åˆèƒ½é“ºæ»¡å±å¹•ï¼Œè¿™æ—¶å€™å¯èƒ½ä¼šå›°æ‰°èƒŒæ™¯é—®é¢˜ï¼Œå½“å†…å®¹è¶³å¤Ÿçš„æ—¶å€™èƒŒæ™¯å°±æœ‰ï¼Œè€Œå½“å†…å®¹ä¸å¤Ÿçš„æ—¶å€™å‘¢ï¼Ÿ<br>    è§£å†³ï¼šå¯ä»¥è®¾ç½®æ‰€éœ€å…ƒç´ çš„æœ€å°é«˜åº¦ï¼Œè®©å®ƒé€‚åº”ä½ æ‰€éœ€è¦çš„é«˜åº¦ï¼Œè¿™æ ·å½“å†…å®¹ä¸å¤Ÿçš„æ—¶å€™å¯ä»¥æ­£å¸¸æ˜¾ç¤ºï¼Œå†…å®¹è¶³å¤Ÿçš„æ—¶å€™ä¹Ÿä¼šæ’‘å¼€ã€‚</p>
<p><strong>4.</strong>åªä¿®æ”¹é¡µé¢å‚æ•°ï¼ˆparamsï¼‰çš„è·¯ç”±è·³è½¬ä¼šæœ‰ä»€ä¹ˆäº‹å‘ç”Ÿå‘¢ï¼Ÿæ¯”å¦‚åœ¨æŸä¸ªä¿¡æ¯é¡µï¼Œå®ƒæœ‰å®ƒçš„idï¼Œè€Œè¿™ä¸ªä¿¡æ¯é¡µå¯ä»¥æŸ¥çœ‹å…¶ä»–ç›¸å…³ä¿¡æ¯ï¼Œå½“ç‚¹å‡»å…¶ä»–çš„ä¿¡æ¯ï¼Œæƒ³è·³è½¬å¹¶æŸ¥çœ‹å…¶ä»–ä¿¡æ¯ã€‚<br>    ç­”ï¼šå¾ˆé—æ†¾ï¼Œå¹¶æ²¡æœ‰ä»€ä¹ˆå˜åŒ–ï¼Œå½“ç”¨router.go()æˆ–v-linkæ”¹å˜äº†ä¼ å…¥äº†çš„paramsæ—¶å®ƒåªæ˜¯æ”¹å˜äº†urlï¼Œå› ä¸ºç›®å‰ç»„ä»¶å°±æ˜¯æ¸²æŸ“çš„ï¼Œå¹¶æ²¡æœ‰é‡æ–°æ¸²æŸ“ä¸€éç»„ä»¶ã€‚<br>    è§£å†³ï¼šè¿™æ—¶å€™å°±éœ€è¦è‡ªå·±åŠ å…¥refreshäº‹ä»¶ï¼Œå¯èƒ½æœ‰å¾ˆå¤šæœ‹å‹ä¼šæƒ³åˆ°ç”¨window.location.reloas()é‡æ–°åŠ è½½ï¼Œå½“ç„¶è¿™æ ·ä¹Ÿå¯ä»¥ï¼Œä½†æ˜¯è¿™æ ·ä¼šåˆ·æ–°é¡µé¢ï¼Œä½“éªŒå°±æ²¡é‚£ä¹ˆå¥½äº†ã€‚æˆ‘ä»¬å¯ä»¥å°†ä¼ å…¥çš„paramsé‡æ–°è¯·æ±‚æ‰€éœ€çš„ä¿¡æ¯ç„¶åæ›´æ”¹dataæ›´æ–°ä¿¡æ¯ï¼Œè¿™æ ·å¯ä»¥ä¸ç”¨åˆ·æ–°ä¾¿å¯ä»¥å°†ä¿¡æ¯æ›´æ–°ï¼Œå½“ç„¶è¿™è¿˜éœ€è¦åŠ ä¸Š$(window).scrollTop(0)è®©é¡µé¢é‡æ–°å›åˆ°é¡¶éƒ¨ã€‚</p>
<p><strong>5.</strong>å—¯è¿™æ˜¯ä¸ªå¤§å‘ï¼ŒæŠŠé¡¹ç›®æ‹–çš„éå¸¸çš„æ…¢ï¼Œæ‰“å¼€ä¹Ÿæ˜¯æå…¶çš„æ…¢ï¼Œé‚£å°±æ˜¯å›¾ç‰‡çš„é—®é¢˜ï¼Œç”±äºè¿™ä¸ªå®˜ç½‘æœ‰è¾ƒå¤šçš„å›¾ç‰‡ï¼Œå½“æ—¶å…¨ç”¨çš„æœ¬åœ°é“¾æ¥ï¼Œå¯¼è‡´é¡¹ç›®æ‰“åŒ…å‡ºæ¥çš„æ–‡ä»¶æå…¶å¤§ï¼Œå½“è®¿é—®çš„æ—¶å€™å°±è¯·æ±‚jsæ–‡ä»¶è¦10må·¦å³ï¼Œè¿™åœ¨é«˜ç½‘é€Ÿçš„æ—¶å€™ä¹Ÿè¦å¥½å‡ ç§’ï¼Œç”šè‡³å¥½å‡ åˆ†é’Ÿçš„ç›¸åº”æ—¶é—´ï¼Œè¿™æ˜¯æå…¶ä¸å‹å¥½çš„ï¼Œä¹Ÿéå¸¸å½±å“è°ƒè¯•æ•ˆç‡ã€‚åæ¥å°†æ–‡ä»¶é€šè¿‡æ”¾åœ¨â€˜ç‰›ç‰›â€™ä¸Šç”¨å¤–é“¾å½¢å¼è®¿é—®ï¼Œç½‘é¡µåŠ è½½é€Ÿåº¦å°±å¯ä»¥ç§’å¼€äº†ï¼Œè¿™ä¸ªé—®é¢˜å½“æ—¶ä¹Ÿæ‰¾äº†å¥½ä¹…ï¼Œæœ€åè§£å†³çš„æ—¶å€™åˆ«ææœ‰å¤šèˆ’æœäº†ï½ï½ï½è°¨è®°ï¼ï¼ï¼</p>
<p><strong>6.</strong>frozençš„slideråœ¨é¡µé¢ä¸Šç”±äºæ˜¯è¦å°†èƒŒæ™¯è®¾å¥½çš„ï¼Œåœ¨å…¶ä»–åœ°æ–¹å¯èƒ½ä¹Ÿå¯ä»¥ï¼Œä½†æ˜¯åœ¨vueä¸Šæƒ³è¦è®¾ç½®åŠ¨æ€çš„èƒŒæ™¯å›¾ä¼šæŠ¥é”™ï¼ŒåŸå› æš‚æ—¶è¿˜æ²¡æœ‰æ‰¾å‡ºæ¥ï¼ˆå°´å°¬ï¼‰ï¼Œè§£å†³å½“ç„¶å°±åªèƒ½åœ¨jsæ·»åŠ ç›¸åº”çš„liäº†ï¼š</p>
<pre><code>for(var i = 0; i &lt; res.banner.length; i++) {
  $(&apos;#slider1 ul&apos;).append(&quot;&lt;li&gt;&lt;span&gt;&lt;/span&gt;&lt;/li&gt;&quot;);
  var backgroundImage = res.banner[i].image_url;
  $(&apos;#slider1 ul li&apos;).eq(i).children().css(&apos;backgroundImage&apos;,&apos;url(&apos;+backgroundImage+&apos;)&apos;);
}
</code></pre><p><strong>7.</strong>æ¥ä¸‹æ¥æ˜¯é‡å¤´æˆå•¦ï¼Œæˆ‘ä»¬å¸¸ç”¨çš„pageç»„ä»¶ï¼Œè™½ç„¶å½“æ—¶æ‰¾äº†å¾ˆå¤šï¼Œä½†æ˜¯ç”±äºå„ç§åŸå› ï¼Œæ‰¾ä¸åˆ°æ¯”è¾ƒåˆé€‚çš„ï¼Œåæ¥æœ‰äº†ä¸€ä¸ªpageï¼Œæ­¤å¤„åªå†™å¼•ç”¨æ–¹æ³•äº†ï¼š</p>
<pre><code>é¡µé¢ä¸­çš„å¼•ç”¨æ–¹å¼ï¼Œä¼ å…¥æ”¹å˜é¡µé¢çš„å‡½æ•°ï¼Œæ€»é¡µæ•°ï¼Œè®°å½•é¡µæ•°åˆ°sessionï¼Œå½“è¿”å›çš„æ—¶å€™è®°å½•å½“å‰é¡µé¢ã€‚
&lt;page :total=&quot;total&quot; :change-page=&quot;changePage&quot; :applistpage=&quot;applistpage&quot;&gt;&lt;/page&gt;

applistpage: sessionStorage.applistpage,

changePage(page) {
    var that = this;
    $.ajax({
      type: &apos;get&apos;,
      url: that.Host+&apos;/Application/appList/group_id/&apos;+that.$route.params.group_id+&apos;/limit/6/start/&apos;+(page-1)*6,
      // async: false,
      dataType: &apos;json&apos;,
      success: function(res) {
        console.log(res);
        that.lists = res.list;
      },
      error: function(err) {
        console.log(err);
      }
    })
    sessionStorage.applistpage = page;
},

            //page.vue
&lt;template&gt;
  &lt;ul class=&quot;pagination&quot; v-show=&quot;showPagination&quot;&gt;
    &lt;li&gt;&lt;a @click=&quot;change(1)&quot; v-if=&quot;showPre&quot;&gt; &lt;!-- &amp;lt;&amp;lt; --&gt; é¦–é¡µ&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a  v-if=&quot;showPre&quot; @click=&quot;prev&quot;&gt;&lt;!-- &amp;lt; --&gt;ä¸Šä¸€é¡µ&lt;/a&gt;&lt;/li&gt;
    &lt;li v-for=&quot;i in showCount&quot;   @click=&quot;change(i)&quot;
      v-bind:class=&quot;[currentPage ===   i ? &apos;active&apos; : &apos;&apos;]&quot;
      &gt;&lt;a&gt;{{i}}&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a v-if=&quot;showTail&quot;&gt;...&lt;/a&gt;&lt;/li&gt;
    &lt;li v-bind:class=&quot;[currentPage === this.lastPage ? &apos;active&apos; : &apos;&apos;]&quot;&gt;
      &lt;a @click=&quot;change(this.lastPage)&quot;&gt;{{lastPage}}&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a v-if=&quot;showNext&quot; @click=&quot;next&quot;&gt;&lt;!-- &amp;gt; --&gt;ä¸‹ä¸€é¡µ&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a v-if=&quot;showNext&quot; @click=&quot;change(lastPage)&quot;&gt;&lt;!-- &amp;gt;&amp;gt; --&gt;æœ€åä¸€é¡µ&lt;/a&gt;&lt;/li&gt;
  &lt;/ul&gt;
&lt;/template&gt;

&lt;script&gt;
  module.exports =  {
    components: {

    },
    props: {
      total: {
        type: Number,
        require: true
      },
      totalCount:{
        type: Number,
        default:0
      },
      pageSize: {
        type: Number,
        default: 6
      },
      showCount: {
        type: Array,
        default() {
          return [];
        }
      },
      changePage: {
        type: Function,
        default () {
          return function (){};
        }
      },
      apppage: {

      },
      applistpage: {

      },
      machinepage: {

      },
    },
    ready: function(){
      this.currentPage = 1;
      this.lastPage = Math.ceil(this.total / this.pageSize);
      var that = this;
      if(that.apppage) {
        // setTimeout(function(){
          that.change(that.apppage);
        // },100)
      }
      if(that.applistpage) {
        // setTimeout(function(){
          that.change(that.applistpage);
        // },100)
      }
      if(that.machinepage) {
        // setTimeout(function(){
          that.change(that.machinepage);
        // },100)
      }

    },
    data:  function() {
      return {
        //å½“å‰é¡µæ•°
        currentPage: 1,
        // æœ€åä¸€é¡µ
        lastPage: 1,
        showNext:true,
        showPre:false,
        showTail:false,
        showPagination:true,
      }
    },
    computed: {
      showPagination:function(){
        return this.lastPage == 0?false:true;
      },
      showPre:function(){
        if(this.currentPage == 1){
          return false;
        }else{
          return true;
        }
      },
      showNext:function(){
        if(this.lastPage == 1){
          return false;
        }else{
          if(this.lastPage == this.currentPage){
            return false;
          }
          return true;
        }
      },
      showCount: function(){
                var $this = this;
                var ar = [];
                $this.currentPage = parseInt($this.currentPage);
                if ($this.currentPage &gt; 3)
                {
                    ar.push($this.currentPage - 3);
                    ar.push($this.currentPage - 2);
                    ar.push($this.currentPage - 1);
                }else
                {
                    for (var i = 1; i &lt; $this.currentPage; i++)
                    {
                        ar.push(i);
                    }
                }
                if ($this.currentPage !== $this.lastPage)
                {
                    ar.push($this.currentPage);
                }
                if ( $this.currentPage &lt; ( $this.lastPage - 3 ) )
                {
                    ar.push($this.currentPage + 1);
                    ar.push($this.currentPage + 2);
                    ar.push($this.currentPage + 3);
                    if ( $this.currentPage &lt; ( $this.lastPage - 4 ) )
                    {
                        $this.$set(&quot;showTail&quot;, true);
                    }
                }else
                {
                    $this.$set(&quot;showTail&quot;, false);
                    for (var i = ($this.currentPage + 1); i &lt; $this.lastPage; i++)
                    {
                        ar.push(i);
                    }
                }
                return ar;
            },
    },
    watch: {
      total (val, oldval) {
        this.lastPage = Math.ceil(this.total / this.pageSize);
        // this.currentPage = 1;
      },
      totalCount(v){
        if(v == 0){
          this.currentPage = 1;
        }
      }
    },
    methods: {
      prev () {
        if(this.currentPage == 1){
          this.showPre = false;
          return;
        }else{
          this.showPre = true;
        }
        this.currentPage = --this.currentPage;
        this.change(this.currentPage);

      },
      next () {
        if(this.currentPage == this.lastPage){
          this.showNext = false;
          return;
        }else{
          this.showNext = true;
        }
        this.currentPage = ++this.currentPage;
        this.change(this.currentPage);

      },
      change (page) {
        if (page === 1) {
          this.showPre = false;
        }else{
          this.showPre = true;
        }
        if (page === this.lastPage) {
          this.showNext = false;
        }else{
          this.showNext = true;
        }
        if(page&lt; this.lastPage-4){
          this.showTail = true;
        }else{
          this.showTail = false;
        }
        this.currentPage = page;
        this.changePage(page);
      }
    }
  }
&lt;/script&gt;
</code></pre><p><strong>8.</strong>æ´»åŠ¨é¡µä¸»è¦å¤„ç†çš„å°±æ˜¯è¡¨æƒ…çš„é—®é¢˜äº†ï¼Œemojiè¡¨æƒ…å•Šï¼Œæƒ³å¿…å¤§å®¶åœ¨å‘å¾®ä¿¡å¢™çš„æ—¶å€™éƒ½æƒ³è¦ç”¨è¡¨æƒ…è¡¨è¾¾ä¸‹è‡ªå·±å½“æ—¶çš„å¿ƒæƒ…å§ï¼Œä½†æ˜¯æ–‡å­—å®Œå…¨ä¸èƒ½å±•ç°å•Šï½<br>    å¥½çš„æˆ‘ä»¬ä¸Šemojiçš„äº†ï¼š<a href="https://github.com/OneSignal/emoji-picker.git" target="_blank" rel="noopener">https://github.com/OneSignal/emoji-picker.git</a><br>    å½“ç„¶githubä¸­æœ‰å¾ˆå¤šè¿™äº›å¯ä»¥å¼•ç”¨çœ‹çœ‹ï¼Œä½†æ˜¯è¯•äº†é‚£ä¹ˆå¤šè¿˜æ˜¯è¿™ä¸ªæ¯”è¾ƒç¬¦åˆè¦æ±‚ï¼Œçœ‹ç€ä»£ç æˆ‘è¿˜æ”¹äº†é‚£ä¹ˆä¸€ä¸¢ä¸¢ï¼Œå®ƒåŸå…ˆæ˜¯ç¦ç”¨äº†iphoneçš„ï¼Œæˆ‘é‡æ–°æŠŠå®ƒå¼€ä¸Šäº†ï¼Œä½†æ˜¯è¿™ä¸ªä¸»è¦æ˜¯ç”¨æ’ä»¶è‡ªå¸¦çš„emojiè¡¨æƒ…ï¼Œè€Œä¸æ˜¯æˆ‘ä»¬çš„è¾“å…¥æ³•å¸¦çš„ï¼Œè¿™å°±éå¸¸çš„ä¸èˆ’æœäº†ã€‚ç»è¿‡testï¼Œå®ƒåœ¨iPhoneä¸Šä½¿ç”¨è¾“å…¥æ³•çš„emojiè¡¨æƒ…è¿˜æ˜¯æ”¯æŒçš„ï¼Œä½†æ˜¯åœ¨å®‰å“ä¸Šå°±ä¸è¡Œäº†ï¼ŒçœŸæ˜¯ï¼Œä¼Ÿå¤§çš„ç¨‹åºå‘˜åˆè¦å‡ºæ¥è§£å†³è¿™äº›éº»çƒ¦äº‹äº†ï¼Œå˜¿å˜¿å˜¿ï¼Œè™½ç„¶åˆ°ç°åœ¨è¿˜æ²¡è§£å†³ï¼Œç¨å¾®æœ‰ç‚¹çœ‰ç›®å§ï¼Œç­‰æˆ‘å†ç»†ç ”ç©¶ç ”ç©¶è¿™äº›ç¼–ç é—®é¢˜å…ˆï½ï½<br>    å½“ç„¶äº†ï¼Œå¦‚æœæµè§ˆå™¨æˆ–è€…è¾“å…¥æ³•èƒ½åƒiphoneé‚£æ ·æ”¯æŒçš„è¯å¤šå¥½å•Šï¼Œæ–¹ä¾¿å¼€å‘è€…ï¼Œæ–¹ä¾¿ç”¨æˆ·ï¼Œå½“ç„¶ï¼Œé—®é¢˜è¿˜æ˜¯è¦è§£å†³çš„ï¼</p>
<p>å¥½äº†ï¼Œè¿™æ¬¡çš„åšæ–‡å°±åˆ°è¿™é‡Œäº†ï¼Œè¿™é‡Œè¿˜å‘ç°æˆ‘å†™çš„ä»£ç æ³¨é‡Šå¯èƒ½è¿˜ä¸æ˜¯ç‰¹åˆ«çš„å¤Ÿï¼Œè™½ç„¶è¯­ä¹‰ä¸Šå¤Ÿäº†ï¼Œä½†æ˜¯é€‚å½“æ³¨é‡Šè¿˜æ˜¯ä¸è¦å·æ‡’åŠ ä¸Šï½ï½åˆå°´å°¬äº†ï½å¦å¤–mdç¼–è¾‘åšæ–‡å…¶å®è¿˜æ˜¯ä¸å¤ªæ–¹ä¾¿ï¼Œè¦æƒ³åŠ å¤šç‚¹å…ƒç´ ç¡®å®è¿˜æ˜¯æ¯”è¾ƒéº»çƒ¦çš„ï¼Œçœ‹æˆ‘è¿™ä¹ˆç®€æ´çš„å†™å°±çŸ¥é“äº†ï¼Œå¯èƒ½åœ¨ç¨å¾®æœ‰ç‚¹ä¹…çš„å°†æ¥æˆ‘å°±è‡ªå·±å¼€å‘ä¸€ä¸ªåšæ–‡å¥½äº†ï¼Œæ–¹ä¾¿è‡ªå·±ä½¿ç”¨ï¼Œåˆ°æ—¶æœ‰äº†å†ç»™å¤§å®¶åˆ†äº«æŠŠã€‚ã€‚ï¼è¡Œå§è¯¥ç¡è§‰äº†ï¼Œç»™å„ä½çœ‹åšæ–‡çš„è¯´æ™šå®‰äº†ã€‚ã€‚ï¼</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ç»éªŒ/">ç»éªŒ</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-ç®€è°ˆES6å­¦ä¹ å¿ƒå¾—" class="article article-type-post" itemscope="" itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/03/13/ç®€è°ˆES6å­¦ä¹ å¿ƒå¾—/" class="article-date">
  	<time datetime="2017-03-13T12:08:29.000Z" itemprop="datePublished">2017-03-13</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/13/ç®€è°ˆES6å­¦ä¹ å¿ƒå¾—/">ç®€è°ˆES6å­¦ä¹ å¿ƒå¾—</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="letå’Œconst"><a href="#letå’Œconst" class="headerlink" title="letå’Œconst"></a>letå’Œconst</h3><ul>
<li>letå’Œconstå…·æœ‰å—çº§ä½œç”¨åŸŸï¼Œåªåœ¨å½“å‰å—çº§ä½œç”¨åŸŸèƒ½è®¿é—®åˆ°</li>
<li><p>letå’Œconstéƒ½æ²¡æœ‰å˜é‡å£°æ˜æå‡ï¼Œä¼šæœ‰æš‚æ—¶æ€§æ­»åŒºï¼Œä¸å¯é‡å¤å£°æ˜ã€‚</p>
<figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">test </span>= 'abc';</span><br><span class="line">let test;   //æŠ¥é”™</span><br></pre></td></tr></table></figure>
</li>
<li><p>constå£°æ˜çš„æ˜¯å¸¸é‡ï¼Œåœ¨å£°æ˜ä¹‹åæ— æ³•ä¿®æ”¹å®ƒçš„å€¼ï¼Œä½†æ˜¯å£°æ˜å¯¹è±¡å¯ä»¥ä¿®æ”¹å…¶å±æ€§ã€‚</p>
<figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const obj = &#123;&#125;<span class="comment">;</span></span><br><span class="line">obj.a = <span class="number">1</span><span class="comment">;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å…¸å‹ç”¨ä¾‹ï¼šforå¾ªç¯</p>
<figure class="highlight gauss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>; i&lt;<span class="number">10</span>; i++) &#123;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">&#125;</span><br><span class="line">console.<span class="built_in">log</span>(i) <span class="comment">//æŠ¥é”™</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="å˜é‡ç»“æ„èµ‹å€¼"><a href="#å˜é‡ç»“æ„èµ‹å€¼" class="headerlink" title="å˜é‡ç»“æ„èµ‹å€¼"></a>å˜é‡ç»“æ„èµ‹å€¼</h3><p>1.è§£æ„ä¸æˆåŠŸï¼Œå˜é‡å€¼åˆ™ä¸ºundefined<br>2.è§£æ„å…è®¸æœ‰é»˜è®¤å€¼ï¼ˆè§£æ„å³è¾¹å€¼ä¸ä¸¥æ ¼ç­‰äºundefinedï¼Œé»˜è®¤å€¼ä¸ç”Ÿæ•ˆï¼‰ï¼š</p>
<pre><code>let [test = 1] = [undefined]; //testä¸º1
let [test = 1] = [null];  //testä¸ºnull
</code></pre><p>3.å‡½æ•°å‚æ•°çš„è§£æ„èµ‹å€¼+é»˜è®¤å€¼æœ‰åŠ©äºé˜…è¯»ä»£ç å’Œå¢åŠ ä»£ç å¯ç»´æŠ¤æ€§ï¼š</p>
<pre><code>function test({x = 0, y=0} = {}) {
    return [x, y];
}
function test({x, y} = {x:0, y:0}) {
    return [x, y];
}
ç¬¬ä¸€ç§å†™æ³•æ˜¯ç»™å‚æ•°èµ‹é»˜è®¤å€¼ï¼Œç­‰å·å³è¾¹ä¼ å…¥å‚æ•°å†è¿›è¡Œè§£æ„èµ‹å€¼ï¼›
ç¬¬äºŒç§å†™æ³•æ˜¯åœ¨æ²¡ä¼ å‚æ•°æƒ…å†µä¸‹ï¼Œæ•´ä¸ªå‚æ•°å¯¹è±¡æœ‰é»˜è®¤å€¼ï¼Œå¦åˆ™ç­‰å·å³è¾¹å¼•ç”¨ä¼ å…¥å¯¹è±¡è¿›è¡Œè§£æ„èµ‹å€¼ã€‚
</code></pre><h3 id="Promiseå¯¹è±¡"><a href="#Promiseå¯¹è±¡" class="headerlink" title="Promiseå¯¹è±¡"></a>Promiseå¯¹è±¡</h3><p>Promiseå¼‚æ­¥ç¼–ç¨‹è§£å†³å›è°ƒåœ°ç‹±~<br>Promiseç‰¹ç‚¹ï¼š<br>1.çŠ¶æ€ä¸å—å½±å“ï¼Œæœ‰pendingï¼Œresolvedï¼Œrejectedä¸‰ç§çŠ¶æ€ï¼Œå¹¶ä¸”çŠ¶æ€ä¸€æ—¦æ”¹å˜å°±ä¸ä¼šå†å˜åŒ–ï¼Œåœ¨å˜åŒ–ä»¥åå†ç»™Promiseå¢åŠ å›è°ƒå‡½æ•°ä¹Ÿèƒ½è·å–åˆ°ä¸€æ ·çš„ç»“æœã€‚<br>2.Promiseå¯¹è±¡æ— æ³•å–æ¶ˆï¼Œåœ¨åˆ›å»ºæ—¶å°±ç«‹å³æ‰§è¡Œï¼Œè€Œä¸”Promiseå†…éƒ¨é”™è¯¯ä¸ä¼šååº”åˆ°å¤–éƒ¨ï¼Œé™¤éè®¾å®šå›è°ƒå‡½æ•°ï¼Œå¦å¤–ï¼ŒPromiseåœ¨Pendingæ—¶æ— æ³•å¾—çŸ¥æ˜¯åˆšå¼€å§‹è¿˜æ˜¯å³å°†ç»“æŸã€‚</p>
<p>ç”¨æ³•ï¼š</p>
<pre><code>var promise new Promise(function(resolve, reject) {
    if(...) {
        resolve(value);
    }else {
        reject(error);
    }
});
promise.then(function(value) {
    //resolve
}, function(error) {
    //reject
}).catch(function(error) {
    //å¤„ç†å‰é¢å‘ç”Ÿçš„é”™è¯¯
}).done() //ç¡®ä¿æŠ›å‡ºé”™è¯¯ï¼Œå› ä¸ºcatchå‡ºé”™å®ƒä¸ä¼šè‡ªå·±æŠ“å–è‡ªå·±çš„é”™è¯¯ï¼Œå¯æä¾›onFulfilledå’ŒRejectedå›è°ƒå‡½æ•°
.finally() //æ— è®ºå¦‚ä½•éƒ½ä¼šæ‰§è¡Œçš„æ“ä½œ
</code></pre><h2 id="ç®­å¤´å‡½æ•°-this"><a href="#ç®­å¤´å‡½æ•°-this" class="headerlink" title="ç®­å¤´å‡½æ•°-this"></a>ç®­å¤´å‡½æ•°-this</h2><p>ES6é‡Œè¾¹æ¯”è¾ƒå¤§å¤´çš„ä¸€ä¸ªå®¶ä¼™~<br>é¦–å…ˆç®­å¤´å‡½æ•°å¯ä»¥ç®€ä¾¿å‡½æ•°çš„å†™æ³•ï¼Œ</p>
<pre><code>function test(arg) {
    ...
}
å¯å†™æˆ test = arg =&gt; {...}
function test(x, y) {
    ...
}
å¯å†™æˆ test = (x, y) =&gt; {...}
</code></pre><p>ä½†æ˜¯ç®­å¤´å‡½æ•°é‡Œè¾¹æ¯”è¾ƒä¸åŒçš„ä¸€ç‚¹æ˜¯thisçš„æŒ‡å‘ï¼š<br><strong>ç®­å¤´å‡½æ•°çš„thisæ˜¯åœ¨å®šä¹‰çš„æ—¶å€™ç¡®å®šçš„ï¼Œè€Œä¸æ˜¯åœ¨è¿è¡Œæ—¶çµæ´»å˜åŠ¨çš„ï¼Œè€Œç®­å¤´å‡½æ•°æœ¬èº«æ˜¯æ²¡æœ‰thisçš„ï¼Œå®ƒçš„thisä¹Ÿå°±æ˜¯å®šä¹‰æ—¶å®ƒçš„ä¸Šä¸€å±‚å‡½æ•°ï¼ˆæˆ–å…¨å±€å˜é‡ï¼‰çš„thisã€‚</strong><br><strong>ä¾‹å¦‚ï¼š</strong></p>
<pre><code>var a = &apos;window&apos;;
let obj = {
    a : &apos;abc&apos;,
    test : function() {
        console.log(this.a);
    }
}
obj.test() //&apos;abc&apos;

let obj1 = {
    a : &apos;abc&apos;,
    test : () =&gt; {
        console.log(this.a);
    }
}
obj1.test() //&apos;window&apos;
</code></pre><p>##ES6æ¨¡å—ä¸CommonJSæ¨¡å—</p>
<ol>
<li>ES6æ¨¡å—é€šè¿‡importå¼•å…¥ï¼Œé€šè¿‡export(æˆ–exports.name)å°†æ¨¡å—æ¥å£æš´éœ²å‡ºå»ï¼Œå½“ç„¶ä¹Ÿæœ‰åˆå¹¶å†™æ³•ï¼Œç›´æ¥exports<br>â€¦ from â€¦ (å¼•å…¥å¹¶æš´éœ²å‡ºå»)ã€‚CommonJSé€šè¿‡requireå¼•å…¥æ¨¡å—ï¼Œé€šè¿‡module.exportsæš´éœ²æ¥å£ã€‚</li>
<li>ES6æ˜¯é¢„ç¼–è¯‘çš„ï¼Œè€ŒCommonJSæ˜¯åœ¨è¿è¡Œæ—¶ç¡®å®šå€¼çš„ï¼Œåªæ˜¯ä¸€ä¸ªå€¼çš„æ‹·è´ï¼Œæ‰€ä»¥ä½¿ç”¨require(â€¦).nameæ˜¯ä¸ä¿é™©çš„ï¼Œå½“æ‰§è¡Œåˆ°è¿™å¥çš„æ—¶å€™ï¼Œnameä¸ä¸€å®šå­˜åœ¨ï¼Œå°±ä¼šæŠ¥é”™ï¼Œè€ŒES6åˆ™åªæ˜¯ä¸€ç§å¼•ç”¨ï¼Œåªè¦å¼•ç”¨å­˜åœ¨å°±ä¸ä¼šæŠ¥é”™ã€‚</li>
<li>CommanJSæ¨¡å—åœ¨åŠ è½½å®Œåä¼šç”Ÿæˆä¸€ä¸ªå¯¹è±¡ï¼š<figure class="highlight nimrod"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    id: 'name',</span><br><span class="line">    exports: <span class="meta">&#123;...&#125;</span>,</span><br><span class="line">    loaded: <span class="literal">true</span>,</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>å½“å¤šæ¬¡æ‰§è¡Œrequireå‘½ä»¤æ—¶ï¼Œä¹Ÿä¸ä¼šå¤šæ¬¡æ‰§è¡ŒåŒä¸€ä¸ªæ¨¡å—ï¼Œåªä»æ¨¡å—çš„exportsä¸­å–å€¼ï¼Œé™¤éæ‰‹åŠ¨æ¸…é™¤ç³»ç»Ÿç¼“å­˜ã€‚</p>
<ol start="4">
<li>CommanJSåœ¨é‡åˆ°å¾ªç¯åŠ è½½æ—¶ï¼Œåªä¼šè¾“å‡ºå·²ç»æ‰§è¡Œçš„éƒ¨åˆ†ï¼Œè¿˜æœªæ‰§è¡Œéƒ¨åˆ†åˆ™ä¸è¾“å‡ºï¼Œaå¼•ç”¨bï¼Œbåˆå¼•ç”¨aï¼Œåˆ™åœ¨æ‰§è¡Œbçš„è¿‡ç¨‹ä¸­ï¼Œä¼šåªè·å¾—açš„éƒ¨åˆ†å¼•ç”¨ï¼Œæ‰§è¡Œå®Œbå†å°†æ‰§è¡Œæƒäº¤è¿˜ç»™aæ‰§è¡Œï¼Œä¹Ÿå°±ä¼šå‡ºç°<strong>ç¬¬2ç‚¹</strong>ä¸­ä¸å®‰å…¨ç°è±¡ã€‚</li>
<li>ES6åœ¨é‡åˆ°å¾ªç¯åŠ è½½æ—¶ï¼Œç”±äºES6çš„importä¸æ˜¯è·å–åˆ°å€¼ï¼Œè€Œæ˜¯ä¸€ç§å¼•ç”¨ï¼Œæ‰€ä»¥å½“aå¼•ç”¨bï¼Œbåˆå¼•ç”¨aæ—¶ï¼Œaæ‰§è¡Œä¸­é‡åˆ°å¼•ç”¨bï¼Œæ‰§è¡Œbï¼Œbå¼•ç”¨aå‘ç°aå·²ç»æ‰§è¡Œï¼Œç»§ç»­æ‰§è¡Œbï¼Œç›´è‡³æ‰§è¡Œå®Œbå†å°†æ‰§è¡Œæƒé™äº¤ç»™aï¼ˆæ­¤è¿‡ç¨‹å¦‚æœbå¼•ç”¨aä¸­è¿˜æ²¡æ‰§è¡Œå®Œçš„å˜é‡ï¼Œåˆ™ä¸ºundefinedï¼‰ã€‚</li>
<li>å¼•ç”¨é˜®ä¸€å³°å¤§ç¥çš„ES6ç”µå­ä¹¦ä¸­çš„ä¸€ä¸ªä¾‹å­ï¼š<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// a.js</span></span><br><span class="line"><span class="keyword">import</span> &#123;bar&#125; <span class="keyword">from</span> <span class="string">'./b.js'</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'foo'</span>);</span><br><span class="line">  bar();</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'æ‰§è¡Œå®Œæ¯•'</span>);</span><br><span class="line">&#125;</span><br><span class="line">foo();</span><br><span class="line"><span class="comment">// b.js</span></span><br><span class="line"><span class="keyword">import</span> &#123;foo&#125; <span class="keyword">from</span> <span class="string">'./a.js'</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'bar'</span>);</span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">Math</span>.random() &gt; <span class="number">0.5</span>) &#123;</span><br><span class="line">    foo();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>ES6åœ¨è¿™æ®µä»£ç ä¸­èƒ½æ­£å¸¸æ‰§è¡Œï¼Œè€ŒCommonJSä¼šæŠ¥é”™ï¼Œå› ä¸ºbåœ¨æ‰§è¡Œæ—¶ï¼Œfooä¸ºnullï¼Œfoo()å³ä¼šæŠ¥é”™ã€‚</p>
<ol start="7">
<li>å½“ç„¶ï¼Œä¸¤è€…è¿˜æ˜¯å¯ä»¥å…¼å®¹äº’ç”¨çš„ï¼Œå½“ä¸€ä¸ªæ¨¡å—ä½¿ç”¨ES6çš„æ–¹å¼æš´éœ²å‡ºæ¥ï¼Œæ¯”å¦‚export default nameï¼Œåœ¨CommonJSä¸­å¯ä»¥ä½¿ç”¨require(â€¦).defaultå±æ€§è·å–åˆ°æš´éœ²çš„æ¥å£ã€‚</li>
</ol>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ç»éªŒ/">ç»éªŒ</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-jsé«˜ç¨‹å­¦ä¹ å¿ƒå¾—ï¼ˆäºŒï¼‰--åŸå‹ä¸åŸå‹é“¾" class="article article-type-post" itemscope="" itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/01/12/jsé«˜ç¨‹å­¦ä¹ å¿ƒå¾—ï¼ˆäºŒï¼‰--åŸå‹ä¸åŸå‹é“¾/" class="article-date">
  	<time datetime="2017-01-11T16:00:00.000Z" itemprop="datePublished">2017-01-12</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/01/12/jsé«˜ç¨‹å­¦ä¹ å¿ƒå¾—ï¼ˆäºŒï¼‰--åŸå‹ä¸åŸå‹é“¾/">jsé«˜ç¨‹å­¦ä¹ å¿ƒå¾—ï¼ˆäºŒï¼‰--åŸå‹ä¸åŸå‹é“¾</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="newæ“ä½œç¬¦"><a href="#newæ“ä½œç¬¦" class="headerlink" title="newæ“ä½œç¬¦"></a>newæ“ä½œç¬¦</h2><pre><code>var person = new Person();
function New(fun) {
    var obj = {&apos;_proto_&apos; : fun.prototype}; //å®ä¾‹åŸå‹æŒ‡å‘
    return function() {
        fun.apply(obj, auguments);  //ä¿®æ”¹thisæŒ‡å‘
        return obj;
    }
}
</code></pre><p><img src="http://7xiuuj.com1.z0.glb.clouddn.com/scope.png" alt="åŸå‹ä¸åŸå‹é“¾"><br>åŸå‹Cçš„å®ä¾‹Bä½œä¸ºåŸå‹Bï¼ŒåŸå‹Bçš„å®ä¾‹Aä½œä¸ºåŸå‹A</p>
<p><strong>å·¥å‚æ¨¡å¼</strong></p>
<pre><code>function createPerson(name, age, job) {
    var o = new Object();
    o.name = name;
    o.age = age;
    o.job = job;
    o.sayName = function() {
        console.log(this.name);
    };
    return o;
}
var person = createPerson(&quot;jacy&quot;, 20, &quot;engineer&quot;);
</code></pre><p><strong>æ„é€ å‡½æ•°æ¨¡å¼</strong></p>
<pre><code>function Person(name, age, job) {
    this.name = name;
    this.age = age;
    this.job = job;
    this.sayName = function() {
        console.log(this.name);
    };
}
var person = new Person(&quot;jacy&quot;, 20, &quot;engineer&quot;);
</code></pre><p><strong>åŸå‹æ¨¡å¼</strong></p>
<pre><code>function Person() {};
Person.prototype = {
    constructor : Person,
    name : &quot;jacy&quot;,
    age : 10,
    job : &quot;engineer&quot;
}; //é‡å†™åŸå‹å¯¹è±¡ï¼Œconstructoré‡æ–°æŒ‡å‘Personï¼Œä½†æ˜¯ä¼šå˜æˆå¯æšä¸¾å±æ€§
var friend = new Person(); //ä¸é‡å†™åŸå‹å¯¹è±¡ä¸å¯è°ƒæ¢ï¼Œç”±äºå®ä¾‹å·²ç»æŒ‡å‘åŸæ¥çš„åŸå‹å¯¹è±¡ï¼Œé‡å†™åŸå‹å¯¹è±¡ä¸ä¼šæ”¹å˜å®ä¾‹å¯¹åŸæ¥åŸå‹å¯¹è±¡çš„æŒ‡å‘
</code></pre><p>å•ä¸€çš„åŸå‹æ¨¡å¼å¯¹äºå¼•ç”¨ç±»å‹æ•°æ®ä¼šå‡ºé—®é¢˜ï¼š</p>
<pre><code>function Person() {};
Person.prototype = {
    constructor : Person,
    friends : [1,2,3]
}; 
var person1 = new Person();
var person2 = new Person();
person1.friends.push(&quot;4&quot;);
console.log(person2.friends); //&quot;1,2,3,4&quot;
</code></pre><p><strong>ç»„åˆä½¿ç”¨æ„é€ å‡½æ•°å’ŒåŸå‹æ¨¡å¼</strong></p>
<pre><code>function Person(name, age, job) {
    this.friends = [1,2,3];
}
Person.prototype = {
    constructor : Person
}
var person1 = new Person(&quot;jacy&quot;, 20, &quot;engineer&quot;);
var person2 = new Person(&quot;Jacy&quot;, 20, &quot;engineer&quot;);
person1.friends.push(&quot;4&quot;);
console.log(person2.friends); //&quot;1,2,3&quot;
</code></pre><p><strong>å¯„ç”Ÿæ„é€ å‡½æ•°</strong></p>
<pre><code>function SpecialArray() {
    var values = new Array();
    values.push.apply(values, arguments);
    values.toPipedString = function() {
        return this.join(&apos;|&apos;);
    }; //æ‰©å±•Arrayæ„é€ å‡½æ•°åˆä¸ç›´æ¥ä¿®æ”¹Arrayæ„é€ å‡½æ•°
    return values;
}
var colors = new SpecialArray(&quot;red&quot;, &quot;blue&quot;, &quot;green&quot;);
alert(colors.toPipedString()); //&quot;red|blue|green&quot;
</code></pre><p>æ­¤æ–¹æ³•è¿”å›çš„å¯¹è±¡ä¸æ„é€ å‡½æ•°å’Œæ„é€ å‡½æ•°åŸå‹å±æ€§é—´æ²¡å…³ç³»</p>
<p>è§£å†³åŸå‹é“¾ä¸­å¼•ç”¨ç±»å‹å€¼å¸¦æ¥çš„é—®é¢˜ï¼š<br><strong>å€Ÿç”¨æ„é€ å‡½æ•°</strong></p>
<pre><code>function SuperType() {
    this.colors = [&quot;red&quot;, &quot;blue&quot;, &quot;green&quot;];
}
function SubType() {
    SuperType.call(this);
}
var instance1 = new SubType();
instance1.colors.push(&quot;black&quot;);
alert(instance1.colors); //&quot;red,blue,green,black&quot;
var instance2 = new SubType();
alert(instance2.colors); //&quot;red,blue,green&quot;
</code></pre><p><strong>ç»„åˆå¼ç»§æ‰¿â€“åŸå‹é“¾å’Œå€Ÿç”¨æ„é€ å‡½æ•°ç»„åˆ</strong></p>
<pre><code>function SuperType(name) {
    ...
}
SuperType.prototype.sayName = function() {
    ...
}
function SubType(name, age) {
    SuperType.call(this,name); //ç¬¬äºŒæ¬¡è°ƒç”¨
}

SubType.prototype = new SuperType(); //ç¬¬ä¸€æ¬¡è°ƒç”¨
SubType.prototype.constructor = Subtype;
SubType.prototype.sayAge = function() {
    ...
}
</code></pre><p><strong>åŸå‹å¼ç»§æ‰¿</strong></p>
<pre><code>function object(obj) {
    function fun() {};
    fun.prototype = obj;
    return new fun();
}
</code></pre><p>ES5æ–°å¢Object.create()ä¸object()è¡Œä¸ºç›¸åŒ<br>åªæœ‰ä¸€ä¸ªå‚æ•°æ—¶ä¸objectç›¸åŒï¼Œç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºä¸ºæ–°å¯¹è±¡å®šä¹‰çš„é¢å¤–å±æ€§å¯¹è±¡</p>
<p><strong>å¯„ç”Ÿå¼ç»§æ‰¿</strong></p>
<pre><code>function createAnother(original) {
    var clone = object(original); //objectå‡½æ•°éå¿…éœ€
    clone.sayHi = function() {
        ...
    }; //æ‰©å±•å¯¹è±¡
    return clone;
}
</code></pre><p><strong>å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿</strong><br>ç»„åˆç»§æ‰¿ä¸¤æ¬¡è°ƒç”¨SuperTypeäº§ç”Ÿå¤šä½™å±æ€§</p>
<pre><code>function inheritPrototype(subType, superType) {
    var prototype = object(superType.prototype); //ä¸é‡‡ç”¨ä¼ ç»Ÿçš„newæ“ä½œç¬¦ç›´æ¥ç”¨åŸæ„é€ å‡½æ•°ç”Ÿæˆï¼Œè€Œç”¨æš‚æ—¶çš„æ„é€ å‡½æ•°ç”Ÿæˆæ¥å®ç°ç»§æ‰¿
    prototype.constructor = subType;
    subType.prototype = prototype;
}
function SuperType(name) {
    ...
}
SuperType.prototype.sayName = function() {
    ...
}
function SubType(name, age) {
    SuperType.call(this,name); 
}
inheritPrototype(SubType, SuperType);
SubType.prototype.sayAge = function() {
    ...
}
</code></pre>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ç»éªŒ/">ç»éªŒ</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-jsé«˜ç¨‹å­¦ä¹ å¿ƒå¾—ï¼ˆä¸€ï¼‰" class="article article-type-post" itemscope="" itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/01/05/jsé«˜ç¨‹å­¦ä¹ å¿ƒå¾—ï¼ˆä¸€ï¼‰/" class="article-date">
  	<time datetime="2017-01-04T16:00:00.000Z" itemprop="datePublished">2017-01-05</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/01/05/jsé«˜ç¨‹å­¦ä¹ å¿ƒå¾—ï¼ˆä¸€ï¼‰/">jsé«˜ç¨‹å­¦ä¹ å¿ƒå¾—ï¼ˆä¸€ï¼‰</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>â€œuse strictâ€ //ä½¿ç”¨ä¸¥æ ¼æ¨¡å¼</p>
<p>null //ç©ºå¯¹è±¡æŒ‡é’ˆ</p>
<p>typeofæ“ä½œç¬¦æ£€æµ‹åŸºæœ¬ç±»å‹ï¼ˆNull,Undefined,Boolean,String,Numberï¼‰</p>
<p>instanceofæ£€æµ‹å¼•ç”¨ç±»å‹(Object,Array,Date,RegExp,Function)å’ŒåŸºæœ¬åŒ…è£…ç±»å‹ï¼ˆç±»ä¼¼å¼•ç”¨ç±»å‹ï¼Œä¸è¿‡æ˜¯ç¬é—´çš„ï¼ŒString,Number,Booleanï¼‰</p>
<p>typeof æœªå®šä¹‰å˜é‡ = undefined</p>
<p>typeof null = object</p>
<p>NaN == NaN //false</p>
<p>parseInt()ç¬¬äºŒä¸ªå‚æ•°å¸¦è¿›åˆ¶</p>
<p>parseFloat()åªè¯†åˆ«åè¿›åˆ¶</p>
<p>Number() //nullè¿”å›0ï¼Œundefinedè¿”å›NaN</p>
<p>è§£æå¯¹è±¡éƒ½æ˜¯å…ˆè°ƒç”¨å¯¹è±¡çš„valueOf()ï¼Œè‹¥ä¸ºNaNåˆ™ç»§ç»­è°ƒç”¨toString()</p>
<p>æ ‡è¯†ç¬¦å¼€å¤´ï¼šå­—æ¯ï¼Œ_ï¼Œæˆ–è€…$</p>
<p>toString()å¯å¸¦å‚æ•°ï¼Œè¡¨ç¤ºè¿›åˆ¶</p>
<pre><code>var num = 10;
num.toString(2)  //&quot;1010&quot;
</code></pre><p>nullå’Œundefinedæ²¡æœ‰toStringæ–¹æ³•</p>
<p>Infinity * 0 = NaN<br>Infinity / Infinity = NaN<br>0 / 0 = NaN<br>~ / 0 = Infinityæˆ–-Infinity</p>
<p>labelè¯­å¥å¯ä½¿break,continueè¿”å›åˆ°æŒ‡å®šä½ç½®<br>å¦‚ï¼š</p>
<pre><code>start: for(var i = 0; i &lt; 10; i++) {
    for(var j = 0; j &lt; 10; j++) {
        break start;  //å°†ä¼šç»“æŸä¸¤ä¸ªå¾ªç¯
    }
}
</code></pre><p>with(ç¯å¢ƒ) //ä¸æ¨èï¼Œæ€§èƒ½ä¸å¥½</p>
<p>switch(a &lt; b) //è¿™é‡Œçš„æ¯”è¾ƒä½¿ç”¨å…¨ç­‰æ¯”è¾ƒ,ä¸è½¬æ¢ç±»å‹</p>
<p>argumentså¯¹è±¡ç±»å‹æ•°ç»„ï¼Œå¯ç”¨[]è®¿é—®ï¼Œä½†ä¸æ˜¯Arrayå®ä¾‹ï¼Œå®ƒè¿˜æœ‰ä¸€ä¸ªå±æ€§calleeæŒ‡å‘argumentsæ‰€å±å‡½æ•°çš„å‡½æ•°å</p>
<p><strong>ECMAScriptæ— å‡½æ•°ç­¾åï¼Œå…¶å‚æ•°æ˜¯ä»¥ä¸€ä¸ªåŒ…å«0æˆ–å¤šä¸ªå€¼çš„æ•°ç»„å½¢å¼ä¼ é€’ï¼ˆä¸èƒ½é‡è½½ä½†ç±»ä¼¼ï¼‰</strong></p>
<p><strong>å¯¹è±¡æŒ‰å€¼ä¼ é€’ï¼š</strong></p>
<pre><code>var person = new Object();
function a(obj) {
    obj.name = &quot;abc&quot;;
    obj = new Object();
    obj.name = &quot;def&quot;;
}
a(person);
alert(person.name) //&quot;abc&quot;
//æŒ‰å€¼ä¼ é€’ï¼Œä½†æŒ‰å¼•ç”¨æ¥å¼•ç”¨åŒä¸€å¯¹è±¡
</code></pre><p><strong>æ¯ä¸ªæ‰§è¡Œç¯å¢ƒéƒ½æœ‰ä¸€ä¸ªä¸ä¹‹å…³è”çš„å˜é‡å¯¹è±¡ï¼ˆç¯å¢ƒä¸­å˜é‡+å‡½æ•°ï¼‰<br>å˜é‡å¯¹è±¡å½¢æˆä½œç”¨åŸŸé“¾ï¼Œä½œç”¨åŸŸé“¾å‰ç«¯æ˜¯å½“å‰ç¯å¢ƒå˜é‡å¯¹è±¡<br>è‹¥ç¯å¢ƒæ˜¯å‡½æ•°ï¼Œåˆ™æŠŠå…¶æ´»åŠ¨å¯¹è±¡ä½œä¸ºå˜é‡å¯¹è±¡ï¼Œå‡½æ•°æ´»åŠ¨å¯¹è±¡æœ€åˆåªå«æœ‰argumentså¯¹è±¡</strong></p>
<h2 id="æ•°ç»„æ–¹æ³•"><a href="#æ•°ç»„æ–¹æ³•" class="headerlink" title="æ•°ç»„æ–¹æ³•"></a>æ•°ç»„æ–¹æ³•</h2><p>pop() //æ•°ç»„å°¾éƒ¨ç§»é™¤ä¸€é¡¹ï¼Œè¿”å›ç§»é™¤é¡¹<br>push() //æ•°ç»„å°¾éƒ¨å¢åŠ é¡¹ï¼Œè¿”å›æ•°ç»„é•¿åº¦<br>shift() //æ•°ç»„å¤´éƒ¨ç§»é™¤ä¸€é¡¹ï¼Œè¿”å›ç§»é™¤é¡¹<br>unshift() //æ•°ç»„å¤´éƒ¨å¢åŠ é¡¹ï¼Œè¿”å›æ•°ç»„é•¿åº¦<br>slice() //ä¸¤å‚æ•°è¡¨ç¤ºèµ·å§‹å’Œç»“æŸç´¢å¼•ï¼Œè¿”å›è¿™æ®µç´¢å¼•è¡¨ç¤ºçš„æ•°ç»„ï¼Œä¸å½±å“åŸæ•°ç»„<br>splice() //å¯åˆ é™¤å¯æ’å…¥ï¼Œ2å‚æ•°åˆ é™¤ï¼Œ3å‚æ•°ä»¥ä¸Šæ’å…¥</p>
<p>indexOf(â€œé¡¹â€ï¼Œèµ·ç‚¹) //æŸ¥æ‰¾é¡¹åœ¨æ•°ç»„ä¸­çš„ç´¢å¼•ï¼Œé»˜è®¤ä»0å‘åæŸ¥<br>lastIndexOfä¸indexOfç›¸åï¼Œé»˜è®¤ä»åå‘å‰æŸ¥<br>è‹¥æ²¡æ‰¾åˆ°åˆ™è¿”å›-1</p>
<h2 id="æ•°æ®ï¼Œå­—ç¬¦å¤„ç†"><a href="#æ•°æ®ï¼Œå­—ç¬¦å¤„ç†" class="headerlink" title="æ•°æ®ï¼Œå­—ç¬¦å¤„ç†"></a>æ•°æ®ï¼Œå­—ç¬¦å¤„ç†</h2><p>toFixed() //å­—ç¬¦ä¸²å½¢å¼è¿”å›æŒ‡å®šä¸ªæ•°å°æ•°<br>toExponential() //å­—ç¬¦ä¸²å½¢å¼è¿”å›æŒ‡å®šä¸ªæ•°å°æ•°æŒ‡æ•°è¡¨ç¤ºæ³•<br>toPrecision()  //è¿”å›å°æ•°æ ¼å¼æˆ–æŒ‡æ•°æ ¼å¼ï¼ˆæ ¹æ®ä¼ å…¥æ•°å­—ï¼Œå‚æ•°è¡¨ç¤ºæ‰€æœ‰æ•°å­—ä½æ•°ï¼Œä¸åŒ…æ‹¬æŒ‡æ•°éƒ¨åˆ†ï¼‰<br>charAt() //è¿”å›æŒ‡å®šä½ç½®å­—ç¬¦<br>charCodeAt() //è¿”å›æŒ‡å®šä½ç½®å­—ç¬¦å­—ç¬¦ç¼–ç </p>
<p>slice(èµ·ï¼Œæœ«) //å‚æ•°è´Ÿæ—¶åŠ é•¿åº¦<br>substring(èµ·ï¼Œæœ«) //å‚æ•°è´Ÿæ—¶å–0<br>substr(èµ·ï¼Œä¸ªæ•°) //è´Ÿæ—¶èµ·å§‹ä½ç½®åŠ é•¿åº¦ï¼Œä¸ªæ•°å–0<br>ä»¥ä¸Šä¸‰å‡½æ•°æ˜¯å–å‡ºæŒ‡å®šä½ç½®å­—ç¬¦ä¸²</p>
<p>trim() //å»å‰ç½®åç¼€ç©ºæ ¼<br>toUpperCase() //å¤§å†™ toLocaleUpperCase() é’ˆå¯¹åœ°åŒº<br>toLowerCase() //å°å†™ toLocaleLowerCase()</p>
<p>split() //å°†å­—ç¬¦ä¸²ç”¨æŒ‡å®šåˆ†éš”ç¬¦åˆ†å‰²ï¼Œå­˜å…¥æ•°ç»„</p>
<p>encodeURI()<br>decodeURI() //è§£æ<br>encodeURIComponent()<br>decodeURIComponent() //è§£æ</p>
<pre><code>var uri=&quot;http://www.wrox.com/illegal value.htm#start&quot;;
encodeURI(uri) //&quot;http://www.wrox.com/illegal%20value.htm#start&quot;
encodeURIComponent(uri) //&quot;http%3A%2F%2Fwww.wrox.com%2Fillegal%20value.htm%23start&quot;
</code></pre><h2 id="å±æ€§æè¿°ç¬¦"><a href="#å±æ€§æè¿°ç¬¦" class="headerlink" title="å±æ€§æè¿°ç¬¦"></a>å±æ€§æè¿°ç¬¦</h2><p>æ•°æ®å±æ€§ï¼š<br>[[Enumerable]],<br>[[Writable]],<br>[[Value]],<br>[[Configurable]] //æ”¹ä¸ºfalseå°±ä¸èƒ½æ”¹true<br>Object.defineProperty()<br>Object.defineProperties() //å®šä¹‰å¤šä¸ªå±æ€§</p>
<pre><code>var person = {};
Object.defineProperty(person,&quot;name&quot;,{
    writable : false,
    value : &quot;Jacy&quot;
})
alert(person.name) //&quot;Jacy&quot;
person.name = &quot;jacy&quot;;
alert(person.name) //&quot;Jacy&quot;
</code></pre><p>è®¿é—®å™¨å±æ€§ï¼š<br>[[Enumerable]],<br>[[Configurable]],<br>[[Get]]<br>[[Set]]<br>Object.getOwnPropertyDescriptor(object,â€nameâ€)</p>
<pre><code>Object.getOwnPropertyDescriptor(person,&quot;name&quot;)
//Object {value: &quot;Jacy&quot;, writable: false, enumerable: false, configurable: false}
</code></pre><p>Object.getPrototypeOf() //è·å–å¯¹è±¡çš„åŸå‹</p>
<pre><code>Object.getPrototypeOf(person)
//Object {}
</code></pre><p>Object.keys() //è¿”å›å¯¹è±¡å®ä¾‹å¯æšä¸¾å±æ€§ï¼ˆæ•°ç»„ï¼‰<br>Object.getOwnPropertyNames() //è¿”å›å¯¹è±¡å®ä¾‹æ‰€æœ‰å±æ€§ï¼ˆæ•°ç»„ï¼‰</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ç»éªŒ/">ç»éªŒ</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-linux ubuntuå®‰è£…iNode" class="article article-type-post" itemscope="" itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/05/27/linux ubuntuå®‰è£…iNode/" class="article-date">
  	<time datetime="2016-05-27T05:04:57.000Z" itemprop="datePublished">2016-05-27</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/27/linux ubuntuå®‰è£…iNode/">linux ubuntuå®‰è£…iNode</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <pre><code>æœ¬æ¥åœ¨å®¿èˆåªéœ€è¦ä½¿ç”¨èˆå‹â€œå¤–åâ€å°±å¯ä»¥åœ¨ubuntuä¸Šå®‰å¿ƒä¸Šç½‘çš„ï¼Œå¯æƒœæœ€è¿‘èˆå‹â€œå¤–åâ€å¼€ä¸æµç•…ï¼Œè€Œä¸”æ ¡å›­ç½‘ä¹Ÿç‚¸ç‚¸çš„ï¼Œé‚£ä¹ˆå°±å†³å®šåœ¨ubuntuä¸Šè£…å¥½iNodeè‡ªå·±æ¥å¼€ç½‘äº†ï¼Œè£…iNodeä¸€å¤©æ¸¸å¼€å§‹äº†ã€‚
</code></pre><p>åœ¨å¹¿å·¥ç½‘ç®¡ä¸­å¿ƒä¸‹åˆ°äº†linuxç‰ˆæœ¬çš„iNodeåŒ…å›æ¥è§£å‹åï¼Œå…ˆ</p>
<pre><code>cd iNodeè§£å‹åŒ…ç›®å½•
./install.sh  å®‰è£…iNode
./iNodeClient è¿è¡ŒiNode
</code></pre><p>æ¥ä¸‹æ¥å°±æ˜¯çœ‹å®ƒæŠ›å‡ºçš„é”™è¯¯äº†ï¼Œæˆ‘ä¼°æ‘¸ç€è‚¯å®šä¼šå°‘è¿™å°‘é‚£ï¼Œåæ­£æˆ‘æ˜¯ã€‚æŸ¥é˜…äº†å¾ˆå¤šèµ„æ–™ï¼Œä¼¼ä¹æ˜¯è·Ÿç³»ç»Ÿ64ä½è€Œè¿™ä¸ªiNodeåªæ˜¯32ä½åº”ç”¨æœ‰å…³ï¼Œäºæ˜¯è¦è§£å†³å®ƒçš„åº“é—®é¢˜ã€‚</p>
<pre><code>sudo apt-get install lib32z1 lib32ncurses5 lib32bz2-1.0 libjpeg62:i386 libpangoxft-1.0-0:i386 libpangox-1.0-0:i386 libsm6:i386 libidn11:i386
</code></pre><p>è¿™é‡Œéœ€è¦æ³¨æ„i386ï¼Œi386é€šå¸¸è¢«ç”¨æ¥ä½œä¸ºå¯¹Intelï¼ˆè‹±ç‰¹å°”ï¼‰32ä½å¾®å¤„ç†å™¨çš„ç»Ÿç§°ã€‚åç»­ç¼ºå°‘çš„ä¸œè¥¿ä¹Ÿæ˜¯è¦æ³¨æ„åŠ è¿™ä¸ªï¼Œä¸ç„¶æ²¡ç”¨ã€‚<br>è£…å¥½è¿™äº›ååŸºæœ¬ä¸Šæ²¡ä»€ä¹ˆé—®é¢˜äº†ï¼Œè¦æ˜¯è¿˜æ˜¯æœ‰ç¼ºä»€ä¹ˆå°±æ‰¾ä»€ä¹ˆè¡¥ä»€ä¹ˆå§ã€‚ä¸‹é¢è¿™ä¸ªé—®é¢˜å°±ç¥å¥‡äº†ã€‚</p>
<pre><code>libtiff.so.3: cannot open shared object file: No such file or directory
</code></pre><p>ä½†æ˜¯è‡ªå·±æŸ¥æ‰¾çš„æ—¶å€™å‘ç°è¿˜æ˜¯æœ‰è¿™ä¹ˆä¸ªæ–‡ä»¶çš„ï¼Œå…¶å®å¹¶ä¸æ˜¯å› ä¸ºç¼ºå°‘äº†è¿™ä¸ªæ–‡ä»¶ï¼Œè€Œæ˜¯ubuntuä¸­è¿™ä¸ªåº“æ–‡ä»¶å‡çº§äº†ï¼Œå¼•ç”¨ä¸åˆ°ã€‚</p>
<pre><code>cd /usr/lib/i386-linux-gnu
ls libtiff*
</code></pre><p>è¾“å…¥ä»¥ä¸Šå‘½ä»¤æŸ¥çœ‹æœ¬æœºçš„libtiffçš„ç‰ˆæœ¬æ˜¯å¤šå°‘çš„ï¼Œæˆ‘çš„æ˜¯5çš„é‚£å°±æ‹¿5ä½œäº‹ä¾‹ã€‚</p>
<pre><code>cd /usr/lib/i386-linux-gnu/ cdåˆ°è¿™ä¸ªç›®å½•
sudo rm libtiff.so.3 åˆ é™¤åŸæœ‰çš„libtiff.so.3
sudo ln -s /usr/lib/i386-linux-gnu/libtiff.so.5 /usr/lib/i386-linux-gnu/libtiff.so.3 åˆ›å»ºä¸€ä¸ªlibtiff.so.3æ˜¯é“¾æ¥åˆ°libtiff.so.5çš„
</code></pre><p>ç„¶åè¿™å—åŸºæœ¬å°±æ²¡ä»€ä¹ˆé—®é¢˜äº†ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å†æ¬¡</p>
<pre><code>./iNodeClient
</code></pre><p>å¦‚æœæœ‰<code>Gtk-Message: Failed to load module &quot;canberra-gtk-module&quot;</code>å‡ºç°</p>
<pre><code>sudo apt-get install libcanberra-gtk-module:i386
</code></pre><p>åŒæ ·ç•™æ„i386ï¼Œå¦‚æœæœ‰ç±»ä¼¼çš„å‡ºç°ï¼ŒæŸ¥æ‰¾ç›¸å…³å‘½ä»¤ä¸‹è½½å³å¯<br>å½“æ‰§è¡Œ<code>./iNodeClient</code>å‡ºç°å®¢æˆ·ç«¯ç•Œé¢å°±åŸºæœ¬ä¸Šå®Œæˆå®‰è£…å•¦</p>
<p>çœ‹åˆ°å®¢æˆ·ç«¯çš„ç•Œé¢ï¼Œé€‰æ‹©å·¦ä¸Šè§’çš„æ–°å»ºæ·»åŠ é“¾æ¥<br><img src="http://img1.ph.126.net/GZknSWgmRimiJ3kge7FBaA==/647955396405058911.jpg" alt="ç•Œé¢"><br>è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼ŒæŒ‰ç…§ä¸‹å›¾ç‚¹å‡»é€‰é¡¹ï¼Œç¡®å®šä¿å­˜<br><img src="http://img3.ph.126.net/ZT9_EE9UGU5fLlqLSkzCvQ==/993325192829036033.jpg" alt="åˆ›å»ºè¿æ¥"><br>æ–°çš„é“¾æ¥å·²ç»å»ºç«‹å¥½äº†ï¼Œé€‰ä¸­é“¾æ¥ï¼Œç‚¹å‡»ä¸Šæ–¹çš„â€œè¿æ¥â€æŒ‰é’®å¼€å§‹è¿æ¥<br><img src="http://img4.ph.126.net/SAP09r3GcPMaNdDDFMyvMg==/2710041075787328544.jpg" alt="è¿æ¥"><br>çœ‹åˆ°â€œYou have passed the identity authenticationâ€çš„å­—æ ·æ—¶å°±è¡¨ç¤ºè®¤è¯æˆåŠŸï¼Œå°±å¯ä»¥ä¸Šç½‘å•¦ï¼</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ç»éªŒ/">ç»éªŒ</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
  
    <nav id="page-nav">
      <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2019 Jacy
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
<script src="/js/main.js"></script>






<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </div>
</body>
</html>